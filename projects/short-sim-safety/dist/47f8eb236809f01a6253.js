(window.webpackJsonp=window.webpackJsonp||[]).push([[2,4],{"+Aii":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineNodeView}));__webpack_require__("qoQZ"),__webpack_require__("V4Jz"),__webpack_require__("/xhF");var lib_autolink__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("Z/ZA"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("25es"),partials_view_manager__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("xtKz"),lib_interpolation__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("g86V"),_stores_player__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("2WfA"),_templates_nodes_timeline__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("wT1P"),_templates_nodes_timeline__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_templates_nodes_timeline__WEBPACK_IMPORTED_MODULE_8__),_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("t9t2"),_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_9__),_node_edges_view__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("TzHg"),_node_feedback_view__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("LcpF");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TimelineNodeView=function(_Backbone$View){var subClass,superClass;function TimelineNodeView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=TimelineNodeView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=TimelineNodeView.prototype;return _proto.tagName=function(){return"li"},_proto.className=function(){return"node"},_proto.events=function(){return{"click a.control-voice":"repeatVoice","click a.control-video":"repeatVideo"}},_proto.initialize=function(options){this.container=options.container,this.shown=!1,this.defaultBubbleOffset=60,this.bubbleOffsetMargin=0},_proto.render=function(){var attributes=_.clone(this.model.parent.attributes);return this.$el.html(_templates_nodes_timeline__WEBPACK_IMPORTED_MODULE_8___default()(attributes)),this.$text=this.$(".content"),this.$bubble=this.$("blockquote").attr("tabindex",-1).css({display:"none"}),this.renderContent(),this.renderVoice(),partials_view_manager__WEBPACK_IMPORTED_MODULE_5__.a.get(this.model.parent,_node_edges_view__WEBPACK_IMPORTED_MODULE_10__.a,{ns:"player"}).render(),this.$el.appendTo(this.container),this.listenTo(this.model,"player:timeline:show",this.show),this.listenTo(this.model,"player:timeline:hide",this.hide),this.listenTo(this.model.parent,"change:content",this.renderContent),this.listenTo(this.model.parent,"change:voice_id",this.renderVoice),this.listenTo(this.model.parent,"player:feedback:continue",this.afterFeedback),this.listenTo(this.model.parent,"player:voice:playing",this.voicePlaying),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.voicePaused),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia),this.listenTo(this.model.parent,"player:video:progress",this.videoProgress),this.listenTo(this.model.parent,"player:video:ended",this.videoEnded),this.listenTo(this.model.parent,"player:character:changed",this.bubbleOffset),this},_proto.renderContent=function(){var content=this.model.parent.getContent();content=Object(lib_interpolation__WEBPACK_IMPORTED_MODULE_6__.a)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),content=Object(lib_autolink__WEBPACK_IMPORTED_MODULE_3__.a)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"}),this.$text.html(content),_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.persistable?this.$bubble.css("visibility",this.model.parent.get("content")?"visible":"hidden"):this.model.parent.get("content")||this.$bubble.css("opacity",.5)},_proto.renderVoice=function(){this.model.getVoiceURL()?(this.$voice||(this.$voice=$(_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_9___default()())),this.$voice.appendTo(this.$bubble)):null!=this.$voice&&this.$voice.detach()},_proto.show=function(){partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.postMessage("player:scene",{project:_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.eventJSON(),playlog:_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.playlog.eventJSON(),scene:this.model.eventJSON()}),partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:timeline:node",this.model),this.afterMediaShown=!1;var node=this.model.parent;node.get("feedback")&&(partials_view_manager__WEBPACK_IMPORTED_MODULE_5__.a.get(node,_node_feedback_view__WEBPACK_IMPORTED_MODULE_11__.a,{ns:"player"}).render(),node.trigger("player:feedback:show")),node.get("feedback")&&0!==node.edges().size()||this.afterFeedback(),0===node.edges().size()&&partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.postMessage("player:finish",{project:_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.eventJSON(),playlog:_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.playlog.eventJSON(),results:_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.timeline.eventJSON(),scene:this.model.eventJSON()})},_proto.media=function(){this.model.getVideoURL()?partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:video:play",{model:this.model.parent}):this.model.getVoiceURL()?partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:voice:play",{model:this.model.parent}):(partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:media:hide"),this.afterMedia())},_proto.voicePlaying=function(options){this.$("a.control-voice").removeClass("fa-play").addClass("fa-stop playing"),this.showVoice(),this.$progress||(this.$progress=this.$("div.progress")),this.$progress.velocity("stop").velocity({width:["100%",options.current/options.duration*100+"%"]},{duration:1e3*(options.duration-options.current),easing:"linear"})},_proto.videoProgress=function(options){var delay=this.model.parent.get("show_edges_delay");delay>0&&options.current<delay?this.afterMediaShown&&(this.afterMediaShown=!1,this.model.parent.trigger("player:edges:hide")):this.afterMedia()},_proto.voicePaused=function(){null!=this.$progress&&(_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?this.hideVoice():this.$progress.velocity("stop").velocity({width:"100%"},{complete:this.hideVoice.bind(this)})),this.$("a.control-voice").removeClass("fa-stop playing").addClass("fa-play")},_proto.videoEnded=function(){var edge=this.model.parent.getDefaultEdge();edge?(this.afterMediaShown=!0,this.model.parent.trigger("player:feedback:hide"),this.model.parent.trigger("player:edges:hide"),_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.playlog.createTimelineEdge(edge)):this.afterMedia()},_proto.afterFeedback=function(){this.shown?this.afterMedia():(this.shown=!0,this.model.getVideoURL()?this.media():(this.bubbleOffset(),_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?(this.$bubble.css({display:"inline-block"}),this.media()):this.$bubble.velocity({scale:[1,0]},{display:"inline-block",complete:this.media.bind(this)})))},_proto.afterMedia=function(){if(this.afterMediaShown)return!1;this.afterMediaShown=!0,this.focus(),this.model.parent.trigger("player:edges:show")},_proto.repeatVoice=function(event){$(event.currentTarget).hasClass("playing")?partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:voice:stop"):this.model.getVoiceURL()&&partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:voice:play",{model:this.model.parent,force:!0})},_proto.showVoice=function(){this.$track||(this.$track=this.$("div.track")),_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?this.$track.css({opacity:1,display:"block"}):this.$track.velocity({opacity:1},{display:"block"})},_proto.hideVoice=function(){_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?this.$track.css({display:"none"}):this.$track.velocity({opacity:0},{display:"none"})},_proto.repeatVideo=function(){this.model.getVideoURL()&&partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:video:play",{model:this.model.parent,force:!0})},_proto.hide=function(){_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?this.$el.remove():this.$bubble.velocity({scale:0},{display:"none",complete:function(){$(this).parent().remove()}}),this.model.parent.trigger("player:feedback:hide player:edges:hide")},_proto.bubbleOffset=function(){var css={marginRight:this.defaultBubbleOffset};if(_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.character&&_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.character){var face=_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.character.getFace(this.model.parent.getEmotion());css.marginRight=-face.normal_x+this.bubbleOffsetMargin,this.$el.removeClass("no-character")}else this.$el.addClass("no-character");!this.shown||_stores_player__WEBPACK_IMPORTED_MODULE_7__.a.project.get("disable_player_animation")?this.$bubble.css(css):this.$bubble.velocity(css)},_proto.focus=function(){window.location.search.search(/disable-focus/)>=0||this.$bubble.focus()},TimelineNodeView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},"/PVc":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Voice}));var constants_voice__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("lYBc");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Voice=function(_Backbone$Model){var subClass,superClass;function Voice(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Voice).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Voice.prototype;return _proto.defaults=function(){return constants_voice__WEBPACK_IMPORTED_MODULE_0__.c},_proto.parse=function(response){return null!=response.voice?response.voice:response},Voice}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},"/gkB":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return COLORS}));var COLORS=["#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"]},"1BER":function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<span class="timeline-scores">'+(null!=(stack1=lookupProperty(helpers,"each").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"scores"):depth0,{name:"each",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data,loc:{start:{line:1,column:46},end:{line:1,column:266}}}))?stack1:"")+"</span>"},2:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return" "+(null!=(stack1=lookupProperty(helpers,"if").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"total_score"):depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data,loc:{start:{line:1,column:63},end:{line:1,column:256}}}))?stack1:"")+" "},3:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.hooks.helperMissing,alias4=container.escapeExpression,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<span class="nowrap">'+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"name")||(null!=depth0?lookupProperty(depth0,"name"):depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data,loc:{start:{line:1,column:103},end:{line:1,column:111}}}):helper)+'<span class="score-label"style="background-color:'+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"color")||(null!=depth0?lookupProperty(depth0,"color"):depth0))?helper:alias2)?helper.call(alias1,{name:"color",hash:{},data:data,loc:{start:{line:1,column:160},end:{line:1,column:169}}}):helper)+';">'+(null!=(stack1=lookupProperty(helpers,"if").call(alias1,null!=depth0?lookupProperty(depth0,"score"):depth0,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data,loc:{start:{line:1,column:172},end:{line:1,column:218}}}))?stack1:"")+"("+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"total_score")||(null!=depth0?lookupProperty(depth0,"total_score"):depth0))?helper:alias2)?helper.call(alias1,{name:"total_score",hash:{},data:data,loc:{start:{line:1,column:219},end:{line:1,column:234}}}):helper)+")</span></span>"},4:function(container,depth0,helpers,partials,data){var helper,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return"<strong>"+container.escapeExpression("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"score")||(null!=depth0?lookupProperty(depth0,"score"):depth0))?helper:container.hooks.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"score",hash:{},data:data,loc:{start:{line:1,column:193},end:{line:1,column:202}}}):helper)+"</strong>"},6:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return" "+(null!=(stack1=lookupProperty(helpers,"if").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"cumulative"):depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(9,data,0),data:data,loc:{start:{line:1,column:282},end:{line:1,column:472}}}))?stack1:"")+" "},7:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=container.hooks.helperMissing,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return" "+alias1(container.lambda(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"timeline_cumulative_score"):stack1,depth0))+"<strong>"+alias1("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"score")||(null!=depth0?lookupProperty(depth0,"score"):depth0))?helper:alias3)?helper.call(alias2,{name:"score",hash:{},data:data,loc:{start:{line:1,column:351},end:{line:1,column:360}}}):helper)+"</strong>("+alias1("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"total_score")||(null!=depth0?lookupProperty(depth0,"total_score"):depth0))?helper:alias3)?helper.call(alias2,{name:"total_score",hash:{},data:data,loc:{start:{line:1,column:370},end:{line:1,column:385}}}):helper)+") "},9:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return" "+alias1(container.lambda(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"timeline_total_score"):stack1,depth0))+"<strong>"+alias1("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"total_score")||(null!=depth0?lookupProperty(depth0,"total_score"):depth0))?helper:container.hooks.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"total_score",hash:{},data:data,loc:{start:{line:1,column:441},end:{line:1,column:456}}}):helper)+"</strong>"},compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return null!=(stack1=lookupProperty(helpers,"if").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"multiple"):depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(6,data,0),data:data,loc:{start:{line:1,column:0},end:{line:1,column:480}}}))?stack1:""},useData:!0})},"1QKn":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineNode}));__webpack_require__("hmwa");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TimelineNode=function(_Backbone$Model){var subClass,superClass;function TimelineNode(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=TimelineNode).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=TimelineNode.prototype;return _proto.initialize=function(attributes,options){void 0===options&&(options={}),this.parent=options.parent},_proto.getVoiceURL=function(){return this.parent.getVoiceURL()},_proto.getVideoURL=function(){return this.parent.getVideoURL()},_proto.toJSON=function(){return this.pick("index","duration","answered_at","node_id","node_index","node_kind","node_content","edge_id","edge_content","edge_position","custom_content")},_proto.eventJSON=function(){var hash=this.parent.eventJSON();return _.extend(hash,this.pick("score","scores")),hash},_proto.scoreFor=function(uid){return(this.get("scores")||{})[uid]},_proto.totalScoreFor=function(uid){return(this.get("total_scores")||{})[uid]},TimelineNode}(Backbone.Model)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},"25es":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(_,Backbone){__webpack_exports__.a={Events:_.extend({},Backbone.Events),Messages:_.extend({},Backbone.Events),postMessage:function(type,data){void 0===data&&(data={}),this.Messages.trigger(type,{details:data});var message={provider:"branchtrack",type:"branchtrack:"+type,details:data};window!==window.parent?window.parent.postMessage(JSON.stringify(message),"*"):window.postMessage(JSON.stringify(message),"*")}}}).call(this,__webpack_require__("5VhH").default,__webpack_require__("clIx"))},"2WfA":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={}},"3TV9":function(module,__webpack_exports__,__webpack_require__){"use strict";var fontSizeContainer,fontSizeText;__webpack_require__("8At4");__webpack_exports__.a=function(content,style){var options=$.extend({minSize:8,maxSize:30,height:100,width:100,size:14,css:{fontStyle:"normal",fontWeight:"normal"}},style),size=options.size,newSize=size;null==fontSizeContainer&&(fontSizeContainer=$('<div style="position:absolute;top:0;left:-10000px;visibility:hidden;"><span></span></div>').appendTo("body")),fontSizeText=fontSizeContainer.find("span:first").html(content),fontSizeContainer.css(options.css).css({fontSize:size,width:options.width});for(var state=fontSizeContainer.height()<=options.height&&fontSizeText.width()<=options.width,newState=state;state===newState&&size>options.minSize+1&&size<options.maxSize-1;)size=newSize,newSize+=state?1:-1,fontSizeContainer.css("fontSize",newSize),newState=fontSizeContainer.height()<=options.height&&fontSizeText.width()<=options.width;return state?size:newSize}},"76JE":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Scores}));__webpack_require__("exX3"),__webpack_require__("sccJ"),__webpack_require__("olot");var constants_score__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("/gkB"),_models_score__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Qw32");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Scores=function(_Backbone$Collection){var subClass,superClass;function Scores(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Scores).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Scores.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_score__WEBPACK_IMPORTED_MODULE_4__.a(attributes,options)},_proto.initialize=function(models,options){void 0===options&&(options={}),this.project=options.project},_proto.uids=function(){return this.map((function(score){return score.get("uid")}))},_proto.generateUID=function(name){for(var chars=name.substring(0,2).toLowerCase(),counter=1;null!=this.project.scores.findWhere({uid:""+chars+counter});)counter++;return""+chars+counter},_proto.create=function(attributes,options){if(void 0===options&&(options={}),_extends(options,{project:this.project}),_extends(attributes,{uid:this.generateUID(attributes.name)}),!attributes.color){var last=this.last(),index=last?constants_score__WEBPACK_IMPORTED_MODULE_3__.a.indexOf(last.get("color"))+1:0;_extends(attributes,{color:constants_score__WEBPACK_IMPORTED_MODULE_3__.a[index%(constants_score__WEBPACK_IMPORTED_MODULE_3__.a.length-1)]})}return this.add(attributes,options)},_proto.delete=function(model){model.set("deleted",!0),this.project.nodes.each((function(node){return node.deleteScoreFor(model.get("uid"))})),this.remove(model)},Scores}(Backbone.Collection)}).call(this,__webpack_require__("clIx"))},AghN:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){return'<div class="volume"><a class="media-icon control-volume fa theme-highlight-bg-color"></a></div><div class="media-control"><audio class="mejs-bt"width="100%"height="20"preload="auto"></audio></div>'},useData:!0})},BLmf:function(module,exports){!function(jQuery){function keyHandler(handleObj){if("string"==typeof handleObj.data&&(handleObj.data={keys:handleObj.data}),handleObj.data&&handleObj.data.keys&&"string"==typeof handleObj.data.keys){var origHandler=handleObj.handler,keys=handleObj.data.keys.toLowerCase().split(" ");handleObj.handler=function(event){if(this===event.target||!(jQuery.hotkeys.options.filterInputAcceptingElements&&jQuery.hotkeys.textInputTypes.test(event.target.nodeName)||jQuery.hotkeys.options.filterContentEditable&&jQuery(event.target).attr("contenteditable")||jQuery.hotkeys.options.filterTextInputs&&jQuery.inArray(event.target.type,jQuery.hotkeys.textAcceptingInputTypes)>-1)){var special="keypress"!==event.type&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),modif="",possible={};jQuery.each(["alt","ctrl","shift"],(function(index,specialKey){event[specialKey+"Key"]&&special!==specialKey&&(modif+=specialKey+"+")})),event.metaKey&&!event.ctrlKey&&"meta"!==special&&(modif+="meta+"),event.metaKey&&"meta"!==special&&modif.indexOf("alt+ctrl+shift+")>-1&&(modif=modif.replace("alt+ctrl+shift+","hyper+")),special?possible[modif+special]=!0:(possible[modif+character]=!0,possible[modif+jQuery.hotkeys.shiftNums[character]]=!0,"shift+"===modif&&(possible[jQuery.hotkeys.shiftNums[character]]=!0));for(var i=0,l=keys.length;i<l;i++)if(possible[keys[i]])return origHandler.apply(this,arguments)}}}}jQuery.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},jQuery.each(["keydown","keyup","keypress"],(function(){jQuery.event.special[this]={add:keyHandler}}))}(jQuery||this.jQuery||window.jQuery)},CPrg:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_RESULT__,root;root=this,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return root.Chartist=function(){var Chartist={version:"0.11.4"};return function(globalRoot,Chartist){"use strict";var window=globalRoot.window,document=globalRoot.document;Chartist.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},Chartist.noop=function(n){return n},Chartist.alphaNumerate=function(n){return String.fromCharCode(97+n%26)},Chartist.extend=function(target){var i,source,sourceProp;for(target=target||{},i=1;i<arguments.length;i++)for(var prop in source=arguments[i])sourceProp=source[prop],target[prop]="object"!=typeof sourceProp||null===sourceProp||sourceProp instanceof Array?sourceProp:Chartist.extend(target[prop],sourceProp);return target},Chartist.replaceAll=function(str,subStr,newSubStr){return str.replace(new RegExp(subStr,"g"),newSubStr)},Chartist.ensureUnit=function(value,unit){return"number"==typeof value&&(value+=unit),value},Chartist.quantity=function(input){if("string"==typeof input){var match=/^(\d+)\s*(.*)$/g.exec(input);return{value:+match[1],unit:match[2]||void 0}}return{value:input}},Chartist.querySelector=function(query){return query instanceof Node?query:document.querySelector(query)},Chartist.times=function(length){return Array.apply(null,new Array(length))},Chartist.sum=function(previous,current){return previous+(current||0)},Chartist.mapMultiply=function(factor){return function(num){return num*factor}},Chartist.mapAdd=function(addend){return function(num){return num+addend}},Chartist.serialMap=function(arr,cb){var result=[],length=Math.max.apply(null,arr.map((function(e){return e.length})));return Chartist.times(length).forEach((function(e,index){var args=arr.map((function(e){return e[index]}));result[index]=cb.apply(null,args)})),result},Chartist.roundWithPrecision=function(value,digits){var precision=Math.pow(10,digits||Chartist.precision);return Math.round(value*precision)/precision},Chartist.precision=8,Chartist.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},Chartist.serialize=function(data){return null==data?data:("number"==typeof data?data=""+data:"object"==typeof data&&(data=JSON.stringify({data:data})),Object.keys(Chartist.escapingMap).reduce((function(result,key){return Chartist.replaceAll(result,key,Chartist.escapingMap[key])}),data))},Chartist.deserialize=function(data){if("string"!=typeof data)return data;data=Object.keys(Chartist.escapingMap).reduce((function(result,key){return Chartist.replaceAll(result,Chartist.escapingMap[key],key)}),data);try{data=void 0!==(data=JSON.parse(data)).data?data.data:data}catch(e){}return data},Chartist.createSvg=function(container,width,height,className){var svg;return width=width||"100%",height=height||"100%",Array.prototype.slice.call(container.querySelectorAll("svg")).filter((function(svg){return svg.getAttributeNS(Chartist.namespaces.xmlns,"ct")})).forEach((function(svg){container.removeChild(svg)})),(svg=new Chartist.Svg("svg").attr({width:width,height:height}).addClass(className))._node.style.width=width,svg._node.style.height=height,container.appendChild(svg._node),svg},Chartist.normalizeData=function(data,reverse,multi){var labelCount,output={raw:data,normalized:{}};return output.normalized.series=Chartist.getDataArray({series:data.series||[]},reverse,multi),labelCount=output.normalized.series.every((function(value){return value instanceof Array}))?Math.max.apply(null,output.normalized.series.map((function(series){return series.length}))):output.normalized.series.length,output.normalized.labels=(data.labels||[]).slice(),Array.prototype.push.apply(output.normalized.labels,Chartist.times(Math.max(0,labelCount-output.normalized.labels.length)).map((function(){return""}))),reverse&&Chartist.reverseData(output.normalized),output},Chartist.safeHasProperty=function(object,property){return null!==object&&"object"==typeof object&&object.hasOwnProperty(property)},Chartist.isDataHoleValue=function(value){return null==value||"number"==typeof value&&isNaN(value)},Chartist.reverseData=function(data){data.labels.reverse(),data.series.reverse();for(var i=0;i<data.series.length;i++)"object"==typeof data.series[i]&&void 0!==data.series[i].data?data.series[i].data.reverse():data.series[i]instanceof Array&&data.series[i].reverse()},Chartist.getDataArray=function(data,reverse,multi){function recursiveConvert(value){if(Chartist.safeHasProperty(value,"value"))return recursiveConvert(value.value);if(Chartist.safeHasProperty(value,"data"))return recursiveConvert(value.data);if(value instanceof Array)return value.map(recursiveConvert);if(!Chartist.isDataHoleValue(value)){if(multi){var multiValue={};return"string"==typeof multi?multiValue[multi]=Chartist.getNumberOrUndefined(value):multiValue.y=Chartist.getNumberOrUndefined(value),multiValue.x=value.hasOwnProperty("x")?Chartist.getNumberOrUndefined(value.x):multiValue.x,multiValue.y=value.hasOwnProperty("y")?Chartist.getNumberOrUndefined(value.y):multiValue.y,multiValue}return Chartist.getNumberOrUndefined(value)}}return data.series.map(recursiveConvert)},Chartist.normalizePadding=function(padding,fallback){return fallback=fallback||0,"number"==typeof padding?{top:padding,right:padding,bottom:padding,left:padding}:{top:"number"==typeof padding.top?padding.top:fallback,right:"number"==typeof padding.right?padding.right:fallback,bottom:"number"==typeof padding.bottom?padding.bottom:fallback,left:"number"==typeof padding.left?padding.left:fallback}},Chartist.getMetaData=function(series,index){var value=series.data?series.data[index]:series[index];return value?value.meta:void 0},Chartist.orderOfMagnitude=function(value){return Math.floor(Math.log(Math.abs(value))/Math.LN10)},Chartist.projectLength=function(axisLength,length,bounds){return length/bounds.range*axisLength},Chartist.getAvailableHeight=function(svg,options){return Math.max((Chartist.quantity(options.height).value||svg.height())-(options.chartPadding.top+options.chartPadding.bottom)-options.axisX.offset,0)},Chartist.getHighLow=function(data,options,dimension){var highLow={high:void 0===(options=Chartist.extend({},options,dimension?options["axis"+dimension.toUpperCase()]:{})).high?-Number.MAX_VALUE:+options.high,low:void 0===options.low?Number.MAX_VALUE:+options.low},findHigh=void 0===options.high,findLow=void 0===options.low;function recursiveHighLow(data){if(void 0!==data)if(data instanceof Array)for(var i=0;i<data.length;i++)recursiveHighLow(data[i]);else{var value=dimension?+data[dimension]:+data;findHigh&&value>highLow.high&&(highLow.high=value),findLow&&value<highLow.low&&(highLow.low=value)}}return(findHigh||findLow)&&recursiveHighLow(data),(options.referenceValue||0===options.referenceValue)&&(highLow.high=Math.max(options.referenceValue,highLow.high),highLow.low=Math.min(options.referenceValue,highLow.low)),highLow.high<=highLow.low&&(0===highLow.low?highLow.high=1:highLow.low<0?highLow.high=0:(highLow.high>0||(highLow.high=1),highLow.low=0)),highLow},Chartist.isNumeric=function(value){return null!==value&&isFinite(value)},Chartist.isFalseyButZero=function(value){return!value&&0!==value},Chartist.getNumberOrUndefined=function(value){return Chartist.isNumeric(value)?+value:void 0},Chartist.isMultiValue=function(value){return"object"==typeof value&&("x"in value||"y"in value)},Chartist.getMultiValue=function(value,dimension){return Chartist.isMultiValue(value)?Chartist.getNumberOrUndefined(value[dimension||"y"]):Chartist.getNumberOrUndefined(value)},Chartist.rho=function(num){if(1===num)return num;function gcd(p,q){return p%q==0?q:gcd(q,p%q)}function f(x){return x*x+1}var divisor,x1=2,x2=2;if(num%2==0)return 2;do{x1=f(x1)%num,x2=f(f(x2))%num,divisor=gcd(Math.abs(x1-x2),num)}while(1===divisor);return divisor},Chartist.getBounds=function(axisLength,highLow,scaleMinSpace,onlyInteger){var i,newMin,newMax,optimizationCounter=0,bounds={high:highLow.high,low:highLow.low};bounds.valueRange=bounds.high-bounds.low,bounds.oom=Chartist.orderOfMagnitude(bounds.valueRange),bounds.step=Math.pow(10,bounds.oom),bounds.min=Math.floor(bounds.low/bounds.step)*bounds.step,bounds.max=Math.ceil(bounds.high/bounds.step)*bounds.step,bounds.range=bounds.max-bounds.min,bounds.numberOfSteps=Math.round(bounds.range/bounds.step);var scaleUp=Chartist.projectLength(axisLength,bounds.step,bounds)<scaleMinSpace,smallestFactor=onlyInteger?Chartist.rho(bounds.range):0;if(onlyInteger&&Chartist.projectLength(axisLength,1,bounds)>=scaleMinSpace)bounds.step=1;else if(onlyInteger&&smallestFactor<bounds.step&&Chartist.projectLength(axisLength,smallestFactor,bounds)>=scaleMinSpace)bounds.step=smallestFactor;else for(;;){if(scaleUp&&Chartist.projectLength(axisLength,bounds.step,bounds)<=scaleMinSpace)bounds.step*=2;else{if(scaleUp||!(Chartist.projectLength(axisLength,bounds.step/2,bounds)>=scaleMinSpace))break;if(bounds.step/=2,onlyInteger&&bounds.step%1!=0){bounds.step*=2;break}}if(optimizationCounter++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var EPSILON=2221e-19;function safeIncrement(value,increment){return value===(value+=increment)&&(value*=1+(increment>0?EPSILON:-EPSILON)),value}for(bounds.step=Math.max(bounds.step,EPSILON),newMin=bounds.min,newMax=bounds.max;newMin+bounds.step<=bounds.low;)newMin=safeIncrement(newMin,bounds.step);for(;newMax-bounds.step>=bounds.high;)newMax=safeIncrement(newMax,-bounds.step);bounds.min=newMin,bounds.max=newMax,bounds.range=bounds.max-bounds.min;var values=[];for(i=bounds.min;i<=bounds.max;i=safeIncrement(i,bounds.step)){var value=Chartist.roundWithPrecision(i);value!==values[values.length-1]&&values.push(value)}return bounds.values=values,bounds},Chartist.polarToCartesian=function(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}},Chartist.createChartRect=function(svg,options,fallbackPadding){var hasAxis=!(!options.axisX&&!options.axisY),yAxisOffset=hasAxis?options.axisY.offset:0,xAxisOffset=hasAxis?options.axisX.offset:0,width=svg.width()||Chartist.quantity(options.width).value||0,height=svg.height()||Chartist.quantity(options.height).value||0,normalizedPadding=Chartist.normalizePadding(options.chartPadding,fallbackPadding);width=Math.max(width,yAxisOffset+normalizedPadding.left+normalizedPadding.right),height=Math.max(height,xAxisOffset+normalizedPadding.top+normalizedPadding.bottom);var chartRect={padding:normalizedPadding,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return hasAxis?("start"===options.axisX.position?(chartRect.y2=normalizedPadding.top+xAxisOffset,chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)):(chartRect.y2=normalizedPadding.top,chartRect.y1=Math.max(height-normalizedPadding.bottom-xAxisOffset,chartRect.y2+1)),"start"===options.axisY.position?(chartRect.x1=normalizedPadding.left+yAxisOffset,chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1)):(chartRect.x1=normalizedPadding.left,chartRect.x2=Math.max(width-normalizedPadding.right-yAxisOffset,chartRect.x1+1))):(chartRect.x1=normalizedPadding.left,chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1),chartRect.y2=normalizedPadding.top,chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)),chartRect},Chartist.createGrid=function(position,index,axis,offset,length,group,classes,eventEmitter){var positionalData={};positionalData[axis.units.pos+"1"]=position,positionalData[axis.units.pos+"2"]=position,positionalData[axis.counterUnits.pos+"1"]=offset,positionalData[axis.counterUnits.pos+"2"]=offset+length;var gridElement=group.elem("line",positionalData,classes.join(" "));eventEmitter.emit("draw",Chartist.extend({type:"grid",axis:axis,index:index,group:group,element:gridElement},positionalData))},Chartist.createGridBackground=function(gridGroup,chartRect,className,eventEmitter){var gridBackground=gridGroup.elem("rect",{x:chartRect.x1,y:chartRect.y2,width:chartRect.width(),height:chartRect.height()},className,!0);eventEmitter.emit("draw",{type:"gridBackground",group:gridGroup,element:gridBackground})},Chartist.createLabel=function(position,length,index,labels,axis,axisOffset,labelOffset,group,classes,useForeignObject,eventEmitter){var labelElement,positionalData={};if(positionalData[axis.units.pos]=position+labelOffset[axis.units.pos],positionalData[axis.counterUnits.pos]=labelOffset[axis.counterUnits.pos],positionalData[axis.units.len]=length,positionalData[axis.counterUnits.len]=Math.max(0,axisOffset-10),useForeignObject){var content=document.createElement("span");content.className=classes.join(" "),content.setAttribute("xmlns",Chartist.namespaces.xhtml),content.innerText=labels[index],content.style[axis.units.len]=Math.round(positionalData[axis.units.len])+"px",content.style[axis.counterUnits.len]=Math.round(positionalData[axis.counterUnits.len])+"px",labelElement=group.foreignObject(content,Chartist.extend({style:"overflow: visible;"},positionalData))}else labelElement=group.elem("text",positionalData,classes.join(" ")).text(labels[index]);eventEmitter.emit("draw",Chartist.extend({type:"label",axis:axis,index:index,group:group,element:labelElement,text:labels[index]},positionalData))},Chartist.getSeriesOption=function(series,options,key){if(series.name&&options.series&&options.series[series.name]){var seriesOptions=options.series[series.name];return seriesOptions.hasOwnProperty(key)?seriesOptions[key]:options[key]}return options[key]},Chartist.optionsProvider=function(options,responsiveOptions,eventEmitter){var currentOptions,i,baseOptions=Chartist.extend({},options),mediaQueryListeners=[];function updateCurrentOptions(mediaEvent){var previousOptions=currentOptions;if(currentOptions=Chartist.extend({},baseOptions),responsiveOptions)for(i=0;i<responsiveOptions.length;i++)window.matchMedia(responsiveOptions[i][0]).matches&&(currentOptions=Chartist.extend(currentOptions,responsiveOptions[i][1]));eventEmitter&&mediaEvent&&eventEmitter.emit("optionsChanged",{previousOptions:previousOptions,currentOptions:currentOptions})}function removeMediaQueryListeners(){mediaQueryListeners.forEach((function(mql){mql.removeListener(updateCurrentOptions)}))}if(!window.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(responsiveOptions)for(i=0;i<responsiveOptions.length;i++){var mql=window.matchMedia(responsiveOptions[i][0]);mql.addListener(updateCurrentOptions),mediaQueryListeners.push(mql)}return updateCurrentOptions(),{removeMediaQueryListeners:removeMediaQueryListeners,getCurrentOptions:function(){return Chartist.extend({},currentOptions)}}},Chartist.splitIntoSegments=function(pathCoordinates,valueData,options){var defaultOptions={increasingX:!1,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);for(var segments=[],hole=!0,i=0;i<pathCoordinates.length;i+=2)void 0===Chartist.getMultiValue(valueData[i/2].value)?options.fillHoles||(hole=!0):(options.increasingX&&i>=2&&pathCoordinates[i]<=pathCoordinates[i-2]&&(hole=!0),hole&&(segments.push({pathCoordinates:[],valueData:[]}),hole=!1),segments[segments.length-1].pathCoordinates.push(pathCoordinates[i],pathCoordinates[i+1]),segments[segments.length-1].valueData.push(valueData[i/2]));return segments}}(this||global,Chartist),function(globalRoot,Chartist){"use strict";Chartist.Interpolation={},Chartist.Interpolation.none=function(options){var defaultOptions={fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function(pathCoordinates,valueData){for(var path=new Chartist.Svg.Path,hole=!0,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],currData=valueData[i/2];void 0!==Chartist.getMultiValue(currData.value)?(hole?path.move(currX,currY,!1,currData):path.line(currX,currY,!1,currData),hole=!1):options.fillHoles||(hole=!0)}return path}},Chartist.Interpolation.simple=function(options){var defaultOptions={divisor:2,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);var d=1/Math.max(1,options.divisor);return function(pathCoordinates,valueData){for(var prevX,prevY,prevData,path=new Chartist.Svg.Path,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],length=(currX-prevX)*d,currData=valueData[i/2];void 0!==currData.value?(void 0===prevData?path.move(currX,currY,!1,currData):path.curve(prevX+length,prevY,currX-length,currY,currX,currY,!1,currData),prevX=currX,prevY=currY,prevData=currData):options.fillHoles||(prevX=currX=prevData=void 0)}return path}},Chartist.Interpolation.cardinal=function(options){var defaultOptions={tension:1,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);var t=Math.min(1,Math.max(0,options.tension)),c=1-t;return function cardinal(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles});if(segments.length){if(segments.length>1){var paths=[];return segments.forEach((function(segment){paths.push(cardinal(segment.pathCoordinates,segment.valueData))})),Chartist.Svg.Path.join(paths)}if(pathCoordinates=segments[0].pathCoordinates,valueData=segments[0].valueData,pathCoordinates.length<=4)return Chartist.Interpolation.none()(pathCoordinates,valueData);for(var z,path=(new Chartist.Svg.Path).move(pathCoordinates[0],pathCoordinates[1],!1,valueData[0]),i=0,iLen=pathCoordinates.length;iLen-2*!z>i;i+=2){var p=[{x:+pathCoordinates[i-2],y:+pathCoordinates[i-1]},{x:+pathCoordinates[i],y:+pathCoordinates[i+1]},{x:+pathCoordinates[i+2],y:+pathCoordinates[i+3]},{x:+pathCoordinates[i+4],y:+pathCoordinates[i+5]}];z?i?iLen-4===i?p[3]={x:+pathCoordinates[0],y:+pathCoordinates[1]}:iLen-2===i&&(p[2]={x:+pathCoordinates[0],y:+pathCoordinates[1]},p[3]={x:+pathCoordinates[2],y:+pathCoordinates[3]}):p[0]={x:+pathCoordinates[iLen-2],y:+pathCoordinates[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+pathCoordinates[i],y:+pathCoordinates[i+1]}),path.curve(t*(-p[0].x+6*p[1].x+p[2].x)/6+c*p[2].x,t*(-p[0].y+6*p[1].y+p[2].y)/6+c*p[2].y,t*(p[1].x+6*p[2].x-p[3].x)/6+c*p[2].x,t*(p[1].y+6*p[2].y-p[3].y)/6+c*p[2].y,p[2].x,p[2].y,!1,valueData[(i+2)/2])}return path}return Chartist.Interpolation.none()([])}},Chartist.Interpolation.monotoneCubic=function(options){var defaultOptions={fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function monotoneCubic(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles,increasingX:!0});if(segments.length){if(segments.length>1){var paths=[];return segments.forEach((function(segment){paths.push(monotoneCubic(segment.pathCoordinates,segment.valueData))})),Chartist.Svg.Path.join(paths)}if(pathCoordinates=segments[0].pathCoordinates,valueData=segments[0].valueData,pathCoordinates.length<=4)return Chartist.Interpolation.none()(pathCoordinates,valueData);var i,path,xs=[],ys=[],n=pathCoordinates.length/2,ms=[],ds=[],dys=[],dxs=[];for(i=0;i<n;i++)xs[i]=pathCoordinates[2*i],ys[i]=pathCoordinates[2*i+1];for(i=0;i<n-1;i++)dys[i]=ys[i+1]-ys[i],dxs[i]=xs[i+1]-xs[i],ds[i]=dys[i]/dxs[i];for(ms[0]=ds[0],ms[n-1]=ds[n-2],i=1;i<n-1;i++)0===ds[i]||0===ds[i-1]||ds[i-1]>0!=ds[i]>0?ms[i]=0:(ms[i]=3*(dxs[i-1]+dxs[i])/((2*dxs[i]+dxs[i-1])/ds[i-1]+(dxs[i]+2*dxs[i-1])/ds[i]),isFinite(ms[i])||(ms[i]=0));for(path=(new Chartist.Svg.Path).move(xs[0],ys[0],!1,valueData[0]),i=0;i<n-1;i++)path.curve(xs[i]+dxs[i]/3,ys[i]+ms[i]*dxs[i]/3,xs[i+1]-dxs[i]/3,ys[i+1]-ms[i+1]*dxs[i]/3,xs[i+1],ys[i+1],!1,valueData[i+1]);return path}return Chartist.Interpolation.none()([])}},Chartist.Interpolation.step=function(options){var defaultOptions={postpone:!0,fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function(pathCoordinates,valueData){for(var prevX,prevY,prevData,path=new Chartist.Svg.Path,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],currData=valueData[i/2];void 0!==currData.value?(void 0===prevData?path.move(currX,currY,!1,currData):(options.postpone?path.line(currX,prevY,!1,prevData):path.line(prevX,currY,!1,currData),path.line(currX,currY,!1,currData)),prevX=currX,prevY=currY,prevData=currData):options.fillHoles||(prevX=prevY=prevData=void 0)}return path}}}(0,Chartist),function(globalRoot,Chartist){"use strict";Chartist.EventEmitter=function(){var handlers=[];function addEventHandler(event,handler){handlers[event]=handlers[event]||[],handlers[event].push(handler)}function removeEventHandler(event,handler){handlers[event]&&(handler?(handlers[event].splice(handlers[event].indexOf(handler),1),0===handlers[event].length&&delete handlers[event]):delete handlers[event])}function emit(event,data){handlers[event]&&handlers[event].forEach((function(handler){handler(data)})),handlers["*"]&&handlers["*"].forEach((function(starHandler){starHandler(event,data)}))}return{addEventHandler:addEventHandler,removeEventHandler:removeEventHandler,emit:emit}}}(0,Chartist),function(globalRoot,Chartist){"use strict";function listToArray(list){var arr=[];if(list.length)for(var i=0;i<list.length;i++)arr.push(list[i]);return arr}function extend(properties,superProtoOverride){var superProto=superProtoOverride||this.prototype||Chartist.Class,proto=Object.create(superProto);Chartist.Class.cloneDefinitions(proto,properties);var constr=function(){var instance,fn=proto.constructor||function(){};return instance=this===Chartist?Object.create(proto):this,fn.apply(instance,Array.prototype.slice.call(arguments,0)),instance};return constr.prototype=proto,constr.super=superProto,constr.extend=this.extend,constr}function cloneDefinitions(){var args=listToArray(arguments),target=args[0];return args.splice(1,args.length-1).forEach((function(source){Object.getOwnPropertyNames(source).forEach((function(propName){delete target[propName],Object.defineProperty(target,propName,Object.getOwnPropertyDescriptor(source,propName))}))})),target}Chartist.Class={extend:extend,cloneDefinitions:cloneDefinitions}}(0,Chartist),function(globalRoot,Chartist){"use strict";var window=globalRoot.window;function update(data,options,override){return data&&(this.data=data||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),options&&(this.options=Chartist.extend({},override?this.options:this.defaultOptions,options),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function detach(){return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function on(event,handler){return this.eventEmitter.addEventHandler(event,handler),this}function off(event,handler){return this.eventEmitter.removeEventHandler(event,handler),this}function initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(plugin){plugin instanceof Array?plugin[0](this,plugin[1]):plugin(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function Base(query,data,defaultOptions,options,responsiveOptions){this.container=Chartist.querySelector(query),this.data=data||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=defaultOptions,this.options=options,this.responsiveOptions=responsiveOptions,this.eventEmitter=Chartist.EventEmitter(),this.supportsForeignObject=Chartist.Svg.isSupported("Extensibility"),this.supportsAnimations=Chartist.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(initialize.bind(this),0)}Chartist.Base=Chartist.Class.extend({constructor:Base,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:update,detach:detach,on:on,off:off,version:Chartist.version,supportsForeignObject:!1})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";var document=globalRoot.document;function Svg(name,attributes,className,parent,insertFirst){name instanceof Element?this._node=name:(this._node=document.createElementNS(Chartist.namespaces.svg,name),"svg"===name&&this.attr({"xmlns:ct":Chartist.namespaces.ct})),attributes&&this.attr(attributes),className&&this.addClass(className),parent&&(insertFirst&&parent._node.firstChild?parent._node.insertBefore(this._node,parent._node.firstChild):parent._node.appendChild(this._node))}function attr(attributes,ns){return"string"==typeof attributes?ns?this._node.getAttributeNS(ns,attributes):this._node.getAttribute(attributes):(Object.keys(attributes).forEach(function(key){if(void 0!==attributes[key])if(-1!==key.indexOf(":")){var namespacedAttribute=key.split(":");this._node.setAttributeNS(Chartist.namespaces[namespacedAttribute[0]],key,attributes[key])}else this._node.setAttribute(key,attributes[key])}.bind(this)),this)}function elem(name,attributes,className,insertFirst){return new Chartist.Svg(name,attributes,className,this,insertFirst)}function parent(){return this._node.parentNode instanceof SVGElement?new Chartist.Svg(this._node.parentNode):null}function root(){for(var node=this._node;"svg"!==node.nodeName;)node=node.parentNode;return new Chartist.Svg(node)}function querySelector(selector){var foundNode=this._node.querySelector(selector);return foundNode?new Chartist.Svg(foundNode):null}function querySelectorAll(selector){var foundNodes=this._node.querySelectorAll(selector);return foundNodes.length?new Chartist.Svg.List(foundNodes):null}function getNode(){return this._node}function foreignObject(content,attributes,className,insertFirst){if("string"==typeof content){var container=document.createElement("div");container.innerHTML=content,content=container.firstChild}content.setAttribute("xmlns",Chartist.namespaces.xmlns);var fnObj=this.elem("foreignObject",attributes,className,insertFirst);return fnObj._node.appendChild(content),fnObj}function text(t){return this._node.appendChild(document.createTextNode(t)),this}function empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function remove(){return this._node.parentNode.removeChild(this._node),this.parent()}function replace(newElement){return this._node.parentNode.replaceChild(newElement._node,this._node),newElement}function append(element,insertFirst){return insertFirst&&this._node.firstChild?this._node.insertBefore(element._node,this._node.firstChild):this._node.appendChild(element._node),this}function classes(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function addClass(names){return this._node.setAttribute("class",this.classes(this._node).concat(names.trim().split(/\s+/)).filter((function(elem,pos,self){return self.indexOf(elem)===pos})).join(" ")),this}function removeClass(names){var removedClasses=names.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(name){return-1===removedClasses.indexOf(name)})).join(" ")),this}function removeAllClasses(){return this._node.setAttribute("class",""),this}function height(){return this._node.getBoundingClientRect().height}function width(){return this._node.getBoundingClientRect().width}function animate(animations,guided,eventEmitter){return void 0===guided&&(guided=!0),Object.keys(animations).forEach(function(attribute){function createAnimate(animationDefinition,guided){var animate,timeout,easing,attributeProperties={};animationDefinition.easing&&(easing=animationDefinition.easing instanceof Array?animationDefinition.easing:Chartist.Svg.Easing[animationDefinition.easing],delete animationDefinition.easing),animationDefinition.begin=Chartist.ensureUnit(animationDefinition.begin,"ms"),animationDefinition.dur=Chartist.ensureUnit(animationDefinition.dur,"ms"),easing&&(animationDefinition.calcMode="spline",animationDefinition.keySplines=easing.join(" "),animationDefinition.keyTimes="0;1"),guided&&(animationDefinition.fill="freeze",attributeProperties[attribute]=animationDefinition.from,this.attr(attributeProperties),timeout=Chartist.quantity(animationDefinition.begin||0).value,animationDefinition.begin="indefinite"),animate=this.elem("animate",Chartist.extend({attributeName:attribute},animationDefinition)),guided&&setTimeout(function(){try{animate._node.beginElement()}catch(err){attributeProperties[attribute]=animationDefinition.to,this.attr(attributeProperties),animate.remove()}}.bind(this),timeout),eventEmitter&&animate._node.addEventListener("beginEvent",function(){eventEmitter.emit("animationBegin",{element:this,animate:animate._node,params:animationDefinition})}.bind(this)),animate._node.addEventListener("endEvent",function(){eventEmitter&&eventEmitter.emit("animationEnd",{element:this,animate:animate._node,params:animationDefinition}),guided&&(attributeProperties[attribute]=animationDefinition.to,this.attr(attributeProperties),animate.remove())}.bind(this))}animations[attribute]instanceof Array?animations[attribute].forEach(function(animationDefinition){createAnimate.bind(this)(animationDefinition,!1)}.bind(this)):createAnimate.bind(this)(animations[attribute],guided)}.bind(this)),this}Chartist.Svg=Chartist.Class.extend({constructor:Svg,attr:attr,elem:elem,parent:parent,root:root,querySelector:querySelector,querySelectorAll:querySelectorAll,getNode:getNode,foreignObject:foreignObject,text:text,empty:empty,remove:remove,replace:replace,append:append,classes:classes,addClass:addClass,removeClass:removeClass,removeAllClasses:removeAllClasses,height:height,width:width,animate:animate}),Chartist.Svg.isSupported=function(feature){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+feature,"1.1")};var easingCubicBeziers={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function SvgList(nodeList){var list=this;this.svgElements=[];for(var i=0;i<nodeList.length;i++)this.svgElements.push(new Chartist.Svg(nodeList[i]));Object.keys(Chartist.Svg.prototype).filter((function(prototypeProperty){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(prototypeProperty)})).forEach((function(prototypeProperty){list[prototypeProperty]=function(){var args=Array.prototype.slice.call(arguments,0);return list.svgElements.forEach((function(element){Chartist.Svg.prototype[prototypeProperty].apply(element,args)})),list}}))}Chartist.Svg.Easing=easingCubicBeziers,Chartist.Svg.List=Chartist.Class.extend({constructor:SvgList})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";var elementDescriptions={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},defaultOptions={accuracy:3};function element(command,params,pathElements,pos,relative,data){var pathElement=Chartist.extend({command:relative?command.toLowerCase():command.toUpperCase()},params,data?{data:data}:{});pathElements.splice(pos,0,pathElement)}function forEachParam(pathElements,cb){pathElements.forEach((function(pathElement,pathElementIndex){elementDescriptions[pathElement.command.toLowerCase()].forEach((function(paramName,paramIndex){cb(pathElement,paramName,pathElementIndex,paramIndex,pathElements)}))}))}function SvgPath(close,options){this.pathElements=[],this.pos=0,this.close=close,this.options=Chartist.extend({},defaultOptions,options)}function position(pos){return void 0!==pos?(this.pos=Math.max(0,Math.min(this.pathElements.length,pos)),this):this.pos}function remove(count){return this.pathElements.splice(this.pos,count),this}function move(x,y,relative,data){return element("M",{x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function line(x,y,relative,data){return element("L",{x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function curve(x1,y1,x2,y2,x,y,relative,data){return element("C",{x1:+x1,y1:+y1,x2:+x2,y2:+y2,x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function arc(rx,ry,xAr,lAf,sf,x,y,relative,data){return element("A",{rx:+rx,ry:+ry,xAr:+xAr,lAf:+lAf,sf:+sf,x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function parse(path){var chunks=path.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(result,element){return element.match(/[A-Za-z]/)&&result.push([]),result[result.length-1].push(element),result}),[]);"Z"===chunks[chunks.length-1][0].toUpperCase()&&chunks.pop();var elements=chunks.map((function(chunk){var command=chunk.shift(),description=elementDescriptions[command.toLowerCase()];return Chartist.extend({command:command},description.reduce((function(result,paramName,index){return result[paramName]=+chunk[index],result}),{}))})),spliceArgs=[this.pos,0];return Array.prototype.push.apply(spliceArgs,elements),Array.prototype.splice.apply(this.pathElements,spliceArgs),this.pos+=elements.length,this}function stringify(){var accuracyMultiplier=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(path,pathElement){var params=elementDescriptions[pathElement.command.toLowerCase()].map(function(paramName){return this.options.accuracy?Math.round(pathElement[paramName]*accuracyMultiplier)/accuracyMultiplier:pathElement[paramName]}.bind(this));return path+pathElement.command+params.join(",")}.bind(this),"")+(this.close?"Z":"")}function scale(x,y){return forEachParam(this.pathElements,(function(pathElement,paramName){pathElement[paramName]*="x"===paramName[0]?x:y})),this}function translate(x,y){return forEachParam(this.pathElements,(function(pathElement,paramName){pathElement[paramName]+="x"===paramName[0]?x:y})),this}function transform(transformFnc){return forEachParam(this.pathElements,(function(pathElement,paramName,pathElementIndex,paramIndex,pathElements){var transformed=transformFnc(pathElement,paramName,pathElementIndex,paramIndex,pathElements);(transformed||0===transformed)&&(pathElement[paramName]=transformed)})),this}function clone(close){var c=new Chartist.Svg.Path(close||this.close);return c.pos=this.pos,c.pathElements=this.pathElements.slice().map((function(pathElement){return Chartist.extend({},pathElement)})),c.options=Chartist.extend({},this.options),c}function splitByCommand(command){var split=[new Chartist.Svg.Path];return this.pathElements.forEach((function(pathElement){pathElement.command===command.toUpperCase()&&0!==split[split.length-1].pathElements.length&&split.push(new Chartist.Svg.Path),split[split.length-1].pathElements.push(pathElement)})),split}function join(paths,close,options){for(var joinedPath=new Chartist.Svg.Path(close,options),i=0;i<paths.length;i++)for(var path=paths[i],j=0;j<path.pathElements.length;j++)joinedPath.pathElements.push(path.pathElements[j]);return joinedPath}Chartist.Svg.Path=Chartist.Class.extend({constructor:SvgPath,position:position,remove:remove,move:move,line:line,curve:curve,arc:arc,scale:scale,translate:translate,transform:transform,parse:parse,stringify:stringify,clone:clone,splitByCommand:splitByCommand}),Chartist.Svg.Path.elementDescriptions=elementDescriptions,Chartist.Svg.Path.join=join}(0,Chartist),function(globalRoot,Chartist){"use strict";globalRoot.window,globalRoot.document;var axisUnits={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function Axis(units,chartRect,ticks,options){this.units=units,this.counterUnits=units===axisUnits.x?axisUnits.y:axisUnits.x,this.chartRect=chartRect,this.axisLength=chartRect[units.rectEnd]-chartRect[units.rectStart],this.gridOffset=chartRect[units.rectOffset],this.ticks=ticks,this.options=options}function createGridAndLabels(gridGroup,labelGroup,useForeignObject,chartOptions,eventEmitter){var axisOptions=chartOptions["axis"+this.units.pos.toUpperCase()],projectedValues=this.ticks.map(this.projectValue.bind(this)),labelValues=this.ticks.map(axisOptions.labelInterpolationFnc);projectedValues.forEach(function(projectedValue,index){var labelLength,labelOffset={x:0,y:0};labelLength=projectedValues[index+1]?projectedValues[index+1]-projectedValue:Math.max(this.axisLength-projectedValue,30),Chartist.isFalseyButZero(labelValues[index])&&""!==labelValues[index]||("x"===this.units.pos?(projectedValue=this.chartRect.x1+projectedValue,labelOffset.x=chartOptions.axisX.labelOffset.x,"start"===chartOptions.axisX.position?labelOffset.y=this.chartRect.padding.top+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20):labelOffset.y=this.chartRect.y1+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20)):(projectedValue=this.chartRect.y1-projectedValue,labelOffset.y=chartOptions.axisY.labelOffset.y-(useForeignObject?labelLength:0),"start"===chartOptions.axisY.position?labelOffset.x=useForeignObject?this.chartRect.padding.left+chartOptions.axisY.labelOffset.x:this.chartRect.x1-10:labelOffset.x=this.chartRect.x2+chartOptions.axisY.labelOffset.x+10),axisOptions.showGrid&&Chartist.createGrid(projectedValue,index,this,this.gridOffset,this.chartRect[this.counterUnits.len](),gridGroup,[chartOptions.classNames.grid,chartOptions.classNames[this.units.dir]],eventEmitter),axisOptions.showLabel&&Chartist.createLabel(projectedValue,labelLength,index,labelValues,this,axisOptions.offset,labelOffset,labelGroup,[chartOptions.classNames.label,chartOptions.classNames[this.units.dir],"start"===axisOptions.position?chartOptions.classNames[axisOptions.position]:chartOptions.classNames.end],useForeignObject,eventEmitter))}.bind(this))}Chartist.Axis=Chartist.Class.extend({constructor:Axis,createGridAndLabels:createGridAndLabels,projectValue:function(value,index,data){throw new Error("Base axis can't be instantiated!")}}),Chartist.Axis.units=axisUnits}(this||global,Chartist),function(globalRoot,Chartist){"use strict";function AutoScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data,options,axisUnit.pos);this.bounds=Chartist.getBounds(chartRect[axisUnit.rectEnd]-chartRect[axisUnit.rectStart],highLow,options.scaleMinSpace||20,options.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},Chartist.AutoScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.bounds.values,options)}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.bounds.min)/this.bounds.range}globalRoot.window,globalRoot.document,Chartist.AutoScaleAxis=Chartist.Axis.extend({constructor:AutoScaleAxis,projectValue:projectValue})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";function FixedScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data,options,axisUnit.pos);this.divisor=options.divisor||1,this.ticks=options.ticks||Chartist.times(this.divisor).map(function(value,index){return highLow.low+(highLow.high-highLow.low)/this.divisor*index}.bind(this)),this.ticks.sort((function(a,b){return a-b})),this.range={min:highLow.low,max:highLow.high},Chartist.FixedScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.ticks,options),this.stepLength=this.axisLength/this.divisor}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}globalRoot.window,globalRoot.document,Chartist.FixedScaleAxis=Chartist.Axis.extend({constructor:FixedScaleAxis,projectValue:projectValue})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";function StepAxis(axisUnit,data,chartRect,options){Chartist.StepAxis.super.constructor.call(this,axisUnit,chartRect,options.ticks,options);var calc=Math.max(1,options.ticks.length-(options.stretch?1:0));this.stepLength=this.axisLength/calc}function projectValue(value,index){return this.stepLength*index}globalRoot.window,globalRoot.document,Chartist.StepAxis=Chartist.Axis.extend({constructor:StepAxis,projectValue:projectValue})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";globalRoot.window,globalRoot.document;var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function createChart(options){var data=Chartist.normalizeData(this.data,options.reverseData,!0);this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart);var axisX,axisY,gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup),seriesGroup=this.svg.elem("g"),labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup),chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);axisX=void 0===options.axisX.type?new Chartist.StepAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{ticks:data.normalized.labels,stretch:options.fullWidth})):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,options.axisX),axisY=void 0===options.axisY.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{high:Chartist.isNumeric(options.high)?options.high:options.axisY.high,low:Chartist.isNumeric(options.low)?options.low:options.axisY.low})):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,options.axisY),axisX.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),axisY.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),options.showGridBackground&&Chartist.createGridBackground(gridGroup,chartRect,options.classNames.gridBackground,this.eventEmitter),data.raw.series.forEach(function(series,seriesIndex){var seriesElement=seriesGroup.elem("g");seriesElement.attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)}),seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" "));var pathCoordinates=[],pathData=[];data.normalized.series[seriesIndex].forEach(function(value,valueIndex){var p={x:chartRect.x1+axisX.projectValue(value,valueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-axisY.projectValue(value,valueIndex,data.normalized.series[seriesIndex])};pathCoordinates.push(p.x,p.y),pathData.push({value:value,valueIndex:valueIndex,meta:Chartist.getMetaData(series,valueIndex)})}.bind(this));var seriesOptions={lineSmooth:Chartist.getSeriesOption(series,options,"lineSmooth"),showPoint:Chartist.getSeriesOption(series,options,"showPoint"),showLine:Chartist.getSeriesOption(series,options,"showLine"),showArea:Chartist.getSeriesOption(series,options,"showArea"),areaBase:Chartist.getSeriesOption(series,options,"areaBase")},path=("function"==typeof seriesOptions.lineSmooth?seriesOptions.lineSmooth:seriesOptions.lineSmooth?Chartist.Interpolation.monotoneCubic():Chartist.Interpolation.none())(pathCoordinates,pathData);if(seriesOptions.showPoint&&path.pathElements.forEach(function(pathElement){var point=seriesElement.elem("line",{x1:pathElement.x,y1:pathElement.y,x2:pathElement.x+.01,y2:pathElement.y},options.classNames.point).attr({"ct:value":[pathElement.data.value.x,pathElement.data.value.y].filter(Chartist.isNumeric).join(","),"ct:meta":Chartist.serialize(pathElement.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:pathElement.data.value,index:pathElement.data.valueIndex,meta:pathElement.data.meta,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,group:seriesElement,element:point,x:pathElement.x,y:pathElement.y})}.bind(this)),seriesOptions.showLine){var line=seriesElement.elem("path",{d:path.stringify()},options.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:data.normalized.series[seriesIndex],path:path.clone(),chartRect:chartRect,index:seriesIndex,series:series,seriesIndex:seriesIndex,seriesMeta:series.meta,axisX:axisX,axisY:axisY,group:seriesElement,element:line})}if(seriesOptions.showArea&&axisY.range){var areaBase=Math.max(Math.min(seriesOptions.areaBase,axisY.range.max),axisY.range.min),areaBaseProjected=chartRect.y1-axisY.projectValue(areaBase);path.splitByCommand("M").filter((function(pathSegment){return pathSegment.pathElements.length>1})).map((function(solidPathSegments){var firstElement=solidPathSegments.pathElements[0],lastElement=solidPathSegments.pathElements[solidPathSegments.pathElements.length-1];return solidPathSegments.clone(!0).position(0).remove(1).move(firstElement.x,areaBaseProjected).line(firstElement.x,firstElement.y).position(solidPathSegments.pathElements.length+1).line(lastElement.x,areaBaseProjected)})).forEach(function(areaPath){var area=seriesElement.elem("path",{d:areaPath.stringify()},options.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:data.normalized.series[seriesIndex],path:areaPath.clone(),series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,index:seriesIndex,group:seriesElement,element:area})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:axisY.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Line(query,data,options,responsiveOptions){Chartist.Line.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Line=Chartist.Base.extend({constructor:Line,createChart:createChart})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";globalRoot.window,globalRoot.document;var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function createChart(options){var data,highLow;options.distributeSeries?(data=Chartist.normalizeData(this.data,options.reverseData,options.horizontalBars?"x":"y")).normalized.series=data.normalized.series.map((function(value){return[value]})):data=Chartist.normalizeData(this.data,options.reverseData,options.horizontalBars?"x":"y"),this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart+(options.horizontalBars?" "+options.classNames.horizontalBars:""));var gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup),seriesGroup=this.svg.elem("g"),labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup);if(options.stackBars&&0!==data.normalized.series.length){var serialSums=Chartist.serialMap(data.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(value){return value})).reduce((function(prev,curr){return{x:prev.x+(curr&&curr.x)||0,y:prev.y+(curr&&curr.y)||0}}),{x:0,y:0})}));highLow=Chartist.getHighLow([serialSums],options,options.horizontalBars?"x":"y")}else highLow=Chartist.getHighLow(data.normalized.series,options,options.horizontalBars?"x":"y");highLow.high=+options.high||(0===options.high?0:highLow.high),highLow.low=+options.low||(0===options.low?0:highLow.low);var valueAxis,labelAxisTicks,labelAxis,axisX,axisY,chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);labelAxisTicks=options.distributeSeries&&options.stackBars?data.normalized.labels.slice(0,1):data.normalized.labels,options.horizontalBars?(valueAxis=axisX=void 0===options.axisX.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0})):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0})),labelAxis=axisY=void 0===options.axisY.type?new Chartist.StepAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,{ticks:labelAxisTicks}):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,options.axisY)):(labelAxis=axisX=void 0===options.axisX.type?new Chartist.StepAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,{ticks:labelAxisTicks}):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,options.axisX),valueAxis=axisY=void 0===options.axisY.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0})):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0})));var zeroPoint=options.horizontalBars?chartRect.x1+valueAxis.projectValue(0):chartRect.y1-valueAxis.projectValue(0),stackedBarValues=[];labelAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),valueAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),options.showGridBackground&&Chartist.createGridBackground(gridGroup,chartRect,options.classNames.gridBackground,this.eventEmitter),data.raw.series.forEach(function(series,seriesIndex){var periodHalfLength,seriesElement,biPol=seriesIndex-(data.raw.series.length-1)/2;periodHalfLength=options.distributeSeries&&!options.stackBars?labelAxis.axisLength/data.normalized.series.length/2:options.distributeSeries&&options.stackBars?labelAxis.axisLength/2:labelAxis.axisLength/data.normalized.series[seriesIndex].length/2,(seriesElement=seriesGroup.elem("g")).attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)}),seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" ")),data.normalized.series[seriesIndex].forEach(function(value,valueIndex){var projected,bar,previousStack,labelAxisValueIndex;if(labelAxisValueIndex=options.distributeSeries&&!options.stackBars?seriesIndex:options.distributeSeries&&options.stackBars?0:valueIndex,projected=options.horizontalBars?{x:chartRect.x1+valueAxis.projectValue(value&&value.x?value.x:0,valueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-labelAxis.projectValue(value&&value.y?value.y:0,labelAxisValueIndex,data.normalized.series[seriesIndex])}:{x:chartRect.x1+labelAxis.projectValue(value&&value.x?value.x:0,labelAxisValueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-valueAxis.projectValue(value&&value.y?value.y:0,valueIndex,data.normalized.series[seriesIndex])},labelAxis instanceof Chartist.StepAxis&&(labelAxis.options.stretch||(projected[labelAxis.units.pos]+=periodHalfLength*(options.horizontalBars?-1:1)),projected[labelAxis.units.pos]+=options.stackBars||options.distributeSeries?0:biPol*options.seriesBarDistance*(options.horizontalBars?-1:1)),previousStack=stackedBarValues[valueIndex]||zeroPoint,stackedBarValues[valueIndex]=previousStack-(zeroPoint-projected[labelAxis.counterUnits.pos]),void 0!==value){var positions={};positions[labelAxis.units.pos+"1"]=projected[labelAxis.units.pos],positions[labelAxis.units.pos+"2"]=projected[labelAxis.units.pos],!options.stackBars||"accumulate"!==options.stackMode&&options.stackMode?(positions[labelAxis.counterUnits.pos+"1"]=zeroPoint,positions[labelAxis.counterUnits.pos+"2"]=projected[labelAxis.counterUnits.pos]):(positions[labelAxis.counterUnits.pos+"1"]=previousStack,positions[labelAxis.counterUnits.pos+"2"]=stackedBarValues[valueIndex]),positions.x1=Math.min(Math.max(positions.x1,chartRect.x1),chartRect.x2),positions.x2=Math.min(Math.max(positions.x2,chartRect.x1),chartRect.x2),positions.y1=Math.min(Math.max(positions.y1,chartRect.y2),chartRect.y1),positions.y2=Math.min(Math.max(positions.y2,chartRect.y2),chartRect.y1);var metaData=Chartist.getMetaData(series,valueIndex);bar=seriesElement.elem("line",positions,options.classNames.bar).attr({"ct:value":[value.x,value.y].filter(Chartist.isNumeric).join(","),"ct:meta":Chartist.serialize(metaData)}),this.eventEmitter.emit("draw",Chartist.extend({type:"bar",value:value,index:valueIndex,meta:metaData,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,group:seriesElement,element:bar},positions))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:valueAxis.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Bar(query,data,options,responsiveOptions){Chartist.Bar.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Bar=Chartist.Base.extend({constructor:Bar,createChart:createChart})}(this||global,Chartist),function(globalRoot,Chartist){"use strict";globalRoot.window,globalRoot.document;var defaultOptions={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Chartist.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function determineAnchorPosition(center,label,direction){var toTheRight=label.x>center.x;return toTheRight&&"explode"===direction||!toTheRight&&"implode"===direction?"start":toTheRight&&"implode"===direction||!toTheRight&&"explode"===direction?"end":"middle"}function createChart(options){var labelsGroup,chartRect,radius,labelRadius,totalDataSum,data=Chartist.normalizeData(this.data),seriesGroups=[],startAngle=options.startAngle;this.svg=Chartist.createSvg(this.container,options.width,options.height,options.donut?options.classNames.chartDonut:options.classNames.chartPie),chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding),radius=Math.min(chartRect.width()/2,chartRect.height()/2),totalDataSum=options.total||data.normalized.series.reduce((function(previousValue,currentValue){return previousValue+currentValue}),0);var donutWidth=Chartist.quantity(options.donutWidth);"%"===donutWidth.unit&&(donutWidth.value*=radius/100),radius-=options.donut&&!options.donutSolid?donutWidth.value/2:0,labelRadius="outside"===options.labelPosition||options.donut&&!options.donutSolid?radius:"center"===options.labelPosition?0:options.donutSolid?radius-donutWidth.value/2:radius/2,labelRadius+=options.labelOffset;var center={x:chartRect.x1+chartRect.width()/2,y:chartRect.y2+chartRect.height()/2},hasSingleValInSeries=1===data.raw.series.filter((function(val){return val.hasOwnProperty("value")?0!==val.value:0!==val})).length;data.raw.series.forEach(function(series,index){seriesGroups[index]=this.svg.elem("g",null,null)}.bind(this)),options.showLabel&&(labelsGroup=this.svg.elem("g",null,null)),data.raw.series.forEach(function(series,index){if(0!==data.normalized.series[index]||!options.ignoreEmptyValues){seriesGroups[index].attr({"ct:series-name":series.name}),seriesGroups[index].addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(index)].join(" "));var endAngle=totalDataSum>0?startAngle+data.normalized.series[index]/totalDataSum*360:0,overlappigStartAngle=Math.max(0,startAngle-(0===index||hasSingleValInSeries?0:.2));endAngle-overlappigStartAngle>=359.99&&(endAngle=overlappigStartAngle+359.99);var innerStart,innerEnd,donutSolidRadius,start=Chartist.polarToCartesian(center.x,center.y,radius,overlappigStartAngle),end=Chartist.polarToCartesian(center.x,center.y,radius,endAngle),path=new Chartist.Svg.Path(!options.donut||options.donutSolid).move(end.x,end.y).arc(radius,radius,0,endAngle-startAngle>180,0,start.x,start.y);options.donut?options.donutSolid&&(donutSolidRadius=radius-donutWidth.value,innerStart=Chartist.polarToCartesian(center.x,center.y,donutSolidRadius,startAngle-(0===index||hasSingleValInSeries?0:.2)),innerEnd=Chartist.polarToCartesian(center.x,center.y,donutSolidRadius,endAngle),path.line(innerStart.x,innerStart.y),path.arc(donutSolidRadius,donutSolidRadius,0,endAngle-startAngle>180,1,innerEnd.x,innerEnd.y)):path.line(center.x,center.y);var pathClassName=options.classNames.slicePie;options.donut&&(pathClassName=options.classNames.sliceDonut,options.donutSolid&&(pathClassName=options.classNames.sliceDonutSolid));var pathElement=seriesGroups[index].elem("path",{d:path.stringify()},pathClassName);if(pathElement.attr({"ct:value":data.normalized.series[index],"ct:meta":Chartist.serialize(series.meta)}),options.donut&&!options.donutSolid&&(pathElement._node.style.strokeWidth=donutWidth.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:data.normalized.series[index],totalDataSum:totalDataSum,index:index,meta:series.meta,series:series,group:seriesGroups[index],element:pathElement,path:path.clone(),center:center,radius:radius,startAngle:startAngle,endAngle:endAngle}),options.showLabel){var labelPosition,rawValue;labelPosition=1===data.raw.series.length?{x:center.x,y:center.y}:Chartist.polarToCartesian(center.x,center.y,labelRadius,startAngle+(endAngle-startAngle)/2),rawValue=data.normalized.labels&&!Chartist.isFalseyButZero(data.normalized.labels[index])?data.normalized.labels[index]:data.normalized.series[index];var interpolatedValue=options.labelInterpolationFnc(rawValue,index);if(interpolatedValue||0===interpolatedValue){var labelElement=labelsGroup.elem("text",{dx:labelPosition.x,dy:labelPosition.y,"text-anchor":determineAnchorPosition(center,labelPosition,options.labelDirection)},options.classNames.label).text(""+interpolatedValue);this.eventEmitter.emit("draw",{type:"label",index:index,group:labelsGroup,element:labelElement,text:""+interpolatedValue,x:labelPosition.x,y:labelPosition.y})}}startAngle=endAngle}}.bind(this)),this.eventEmitter.emit("created",{chartRect:chartRect,svg:this.svg,options:options})}function Pie(query,data,options,responsiveOptions){Chartist.Pie.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}Chartist.Pie=Chartist.Base.extend({constructor:Pie,createChart:createChart,determineAnchorPosition:determineAnchorPosition})}(this||global,Chartist),Chartist}()}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__("SLQP"))},D5gs:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Edge}));__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug"),__webpack_require__("N6Ff"),__webpack_require__("hmwa");var constants_edge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("nj8K");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Edge=function(_Backbone$Model){var subClass,superClass;function Edge(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Edge).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Edge.prototype;return _proto.defaults=function(){return constants_edge__WEBPACK_IMPORTED_MODULE_5__.c},_proto.initialize=function(attributes,options){void 0===options&&(options={}),this.project=options.project,options.fromNode?this.linkFrom(options.fromNode):attributes.from_node_index?this.linkFrom(this.project.nodes.findWhere({index:attributes.from_node_index})):attributes.from_node_id&&this.linkFrom(this.project.nodes.findWhere({id:attributes.from_node_id})),options.toNode?this.linkTo(options.toNode):attributes.to_node_index?this.linkTo(this.project.nodes.findWhere({index:attributes.to_node_index})):attributes.to_node_id&&this.linkTo(this.project.nodes.findWhere({id:attributes.to_node_id})),this.on("change",this.afterChange,this),this.on("change:content",this.checkParentNode,this)},_proto.url=function(){return this.project.url()+"/edges"+(this.isNew()?"":"/"+this.id)},_proto.afterChange=function(model,options){void 0===options&&(options={}),_.chain(this.changedAttributes()).keys().any((function(key){return _(constants_edge__WEBPACK_IMPORTED_MODULE_5__.f).indexOf(key)>-1})).value()&&this.trigger("sync:queue",this,options)},_proto.linkFrom=function(node){return node===this.fromNode||(this.previousFromNode=this.fromNode,this.listenOff(this.fromNode),this.fromNode=node,this.listenOn(this.fromNode),this.set("from_node_index",node?node.get("index"):-1),this.project.init&&(null!=this.previousFromNode&&(this.previousFromNode.trigger("check"),this.previousFromNode.updateEdgesPosition()),null!=this.fromNode&&(this.fromNode.trigger("check"),this.fromNode.updateEdgesPosition()))),this},_proto.linkTo=function(node){if(node===this.fromNode||node===this.toNode)return this;var previous=this.toNode;return this.listenOff(this.toNode),this.toNode=node,this.listenOn(this.toNode),this.set("to_node_index",node?node.get("index"):-1),this.project.init&&(this.fromNode.trigger("check"),null!=previous&&previous.trigger("check"),null!=node&&node.trigger("check")),this},_proto.canLinkTo=function(node){return node!=this.fromNode},_proto.listenOn=function(node){null!=node&&(this.listenTo(node,"change:top change:left",this.redraw),this.listenTo(node,"saved",this.save))},_proto.listenOff=function(node){null!=node&&this.stopListening(node)},_proto.useless=function(){return!this.get("content")&&!this.get("to_node_index")&&"freetext"!==this.fromNode.get("kind")},_proto.redraw=function(){this.trigger("redraw")},_proto.checkParentNode=function(){this.fromNode.trigger("check")},_proto.broken=function(){var errors=[];return this.get("content")||errors.push("There is an empty reply option"),this.toNode||errors.push("One of the reply options leads nowhere"),errors},_proto.serverAttributes=function(){return constants_edge__WEBPACK_IMPORTED_MODULE_5__.f.concat(["id"])},_proto.toJSON=function(options){return void 0===options&&(options={}),options.server?this.pick(this.serverAttributes()):_.clone(this.attributes)},_proto.eventJSON=function(){return this.pick(["content","from_node_index","to_node_index","index","position"])},_proto.filename=function(){var index=this.get("index");return this.fromNode.filename()+"E"+(index<10?"0"+index:index)},_proto.parse=function(response){return null!=response.edge?response.edge:response},_proto.delete=function(){this.set("deleted",!0),this.project.edges.remove(this),this.off(),this.fromNode.get("deleted")||this.fromNode.updateEdgesPosition()},_proto.getContent=function(){return this.escape("content")||"..."},_proto.getVoiceURL=function(){var voice=this.project.voices.get(this.get("voice_id"));if(null!=voice)return voice.get("url")},Edge}(Backbone.Model)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},ErNW:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<a class="js-multiple-details"><span class="fa fa-pie-chart fa-sp"></span>'+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"show_details"):stack1,depth0))+"</a>"},3:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return" "+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"score_bottom"):stack1,depth0))+" "},compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<div class="bg theme-answer-bg-color"notranslate><div class="score-spot theme-highlight-bg-color"><header>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"score_top"):stack1,depth0))+'</header><em class="score">0</em><footer>'+(null!=(stack1=lookupProperty(helpers,"if").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"multiple"):depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data,loc:{start:{line:1,column:173},end:{line:1,column:342}}}))?stack1:"")+'</footer></div><div class="text"tabindex="-1"dir="auto"><div class="js-text"></div><button class="button continue theme-highlight-bg-color"z-index="0">'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"continue"):stack1,depth0))+"</button></div></div>"},useData:!0})},F1nI:function(module,exports){!function(global){"use strict";global.console||(global.console={});for(var prop,method,con=global.console,dummy=function(){},properties=["memory"],methods="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");prop=properties.pop();)con[prop]||(con[prop]={});for(;method=methods.pop();)con[method]||(con[method]=dummy)}("undefined"==typeof window?this:window)},FEYq:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULTS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ACCEPT_CONTENT_TYPE_REGEX}));var DEFAULTS={url:"",duration:0},ACCEPT_CONTENT_TYPE_REGEX=/(\.|\/)(mp4)$/i},FR4m:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=container.hooks.helperMissing,alias4=container.escapeExpression,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<span class="score-label"style="background-color:'+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"color")||(null!=depth0?lookupProperty(depth0,"color"):depth0))?helper:alias2)?helper.call(alias1,{name:"color",hash:{},data:data,loc:{start:{line:1,column:282},end:{line:1,column:291}}}):helper)+'"data-uid="'+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"uid")||(null!=depth0?lookupProperty(depth0,"uid"):depth0))?helper:alias2)?helper.call(alias1,{name:"uid",hash:{},data:data,loc:{start:{line:1,column:302},end:{line:1,column:309}}}):helper)+'">'+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"name")||(null!=depth0?lookupProperty(depth0,"name"):depth0))?helper:alias2)?helper.call(alias1,{name:"name",hash:{},data:data,loc:{start:{line:1,column:311},end:{line:1,column:319}}}):helper)+"<strong>"+alias4("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"total_score")||(null!=depth0?lookupProperty(depth0,"total_score"):depth0))?helper:alias2)?helper.call(alias1,{name:"total_score",hash:{},data:data,loc:{start:{line:1,column:327},end:{line:1,column:342}}}):helper)+"</strong></span>"},compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<a class="close js-close color-inherit"><span class="fa fa-times fa-2x"></span></a><h4>'+container.escapeExpression(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"total_score_details"):stack1,depth0))+'</h4><section class="scores-chart"></section><section class="text"><div class="scores-legend">'+(null!=(stack1=lookupProperty(helpers,"each").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"scores"):depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data,loc:{start:{line:1,column:217},end:{line:1,column:367}}}))?stack1:"")+'</div><div class="feedback js-feedback">'+(null!=(stack1=alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"node"):depth0)?lookupProperty(stack1,"feedback"):stack1,depth0))?stack1:"")+"</div></section>"},useData:!0})},G4Dd:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return SENSITIVE_ATTRIBUTES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return PLAYER_V1_ONLY_TRANSLATIONS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULTS}));var _rails__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("mCzO"),SENSITIVE_ATTRIBUTES=["title","initial_node_index","theme_id","multiple_scoring","disable_emotion_meter","disable_copyright_logo","disable_player_animation","disable_choice_numbers","randomize_choices_order","disable_timeline_choice","timeline_score_preview","disable_replay_button","disable_progress_bar","workspace_top","workspace_left","live","private","translations"],PLAYER_V1_ONLY_TRANSLATIONS=_rails__WEBPACK_IMPORTED_MODULE_0__.a.PLAYER_V1_ONLY_TRANSLATIONS,DEFAULTS={title:"",center_left:0,center_top:0,workspace_width:0,workspace_height:0,workspace_top:0,workspace_left:0,initial_node_index:null,zoom:{index:0,value:1},next_node_index:1,next_edge_index:1,multiple_scoring:!1,disable_emotion_meter:!1,disable_copyright_logo:!1,disable_player_animation:!1,disable_choice_numbers:!1,randomize_choices_order:!1,disable_timeline_choice:!1,disable_replay_button:!1,disable_progress_bar:!1,live:!1,translations:_rails__WEBPACK_IMPORTED_MODULE_0__.a.PLAYER_TRANSLATIONS}},HL6H:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(value){var int=parseInt(value,10);return isNaN(int)?null:(int>=0?"+":"-")+Math.abs(int)}},HhB0:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Project}));__webpack_require__("exX3"),__webpack_require__("N6Ff"),__webpack_require__("hmwa"),__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug");var lib_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("B9Pn"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("25es"),constants_project__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("G4Dd"),_collections_nodes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("hiIU"),_collections_edges__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("heEq"),_collections_characters__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("f3Nc"),_collections_backgrounds__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("fykt"),_collections_voices__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("YR2A"),_collections_videos__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("y/SZ"),_collections_scores__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("76JE");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Project=function(_Backbone$Model){var subClass,superClass;function Project(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Project).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Project.prototype;return _proto.defaults=function(){return constants_project__WEBPACK_IMPORTED_MODULE_8__.a},_proto.urlRoot=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_6__.a.url.projects},_proto.initialize=function(){var _this=this;this.init=!1,this.idAttribute="token",this.nodes=new _collections_nodes__WEBPACK_IMPORTED_MODULE_9__.a(this.get("nodes"),{project:this}),this.edges=new _collections_edges__WEBPACK_IMPORTED_MODULE_10__.a(this.get("edges"),{project:this}),this.characters=new _collections_characters__WEBPACK_IMPORTED_MODULE_11__.a(this.get("characters"),{project:this}),this.backgrounds=new _collections_backgrounds__WEBPACK_IMPORTED_MODULE_12__.a(this.get("backgrounds"),{project:this}),this.voices=new _collections_voices__WEBPACK_IMPORTED_MODULE_13__.a(this.get("voices"),{project:this}),this.videos=new _collections_videos__WEBPACK_IMPORTED_MODULE_14__.a(this.get("videos"),{project:this}),this.scores=new _collections_scores__WEBPACK_IMPORTED_MODULE_15__.a(this.get("scores"),{project:this}),["nodes","edges","characters","backgrounds","voices","videos","scores"].map((function(key){return _this.unset(key)})),this.on("change",this.afterChange,this),this.nodes.on("add remove",this.checkInitialNode,this),this.nodes.on("initial",this.setInitialNode,this),this.init=!0,this.trigger("init")},_proto.serverAttributes=function(){return constants_project__WEBPACK_IMPORTED_MODULE_8__.c.concat(["id","center_top","center_left","workspace_width","workspace_height","parent_id"])},_proto.toJSON=function(options){return void 0===options&&(options={}),options.server?this.pick(this.serverAttributes()):_.clone(this.attributes)},_proto.eventJSON=function(){return this.pick(["token","permalink","embed_id","embed_url","embed_code","json_url","title","url","zip_url"])},_proto.parse=function(response){return null!=response.project?response.project:response},_proto.afterChange=function(model,options){void 0===options&&(options={}),_.chain(this.changedAttributes()).keys().any((function(key){return _(constants_project__WEBPACK_IMPORTED_MODULE_8__.c).indexOf(key)>-1})).value()&&this.trigger("sync:queue",this,options)},_proto.setInitialNode=function(node){var old=this.nodes.findWhere({index:this.get("initial_node_index")}),index=node&&node.get("index")||null;this.set("initial_node_index",index),null!=old&&old.trigger("check"),null!=node&&node.trigger("check")},_proto.checkInitialNode=function(node){if(this.get("initial_node_index")){if(this.get("initial_node_index")===node.get("index")&&node.get("deleted")){var firstNode=this.nodes.first();this.set("initial_node_index",firstNode?firstNode.get("index"):0)}}else this.set("initial_node_index",node.get("index")),node.trigger("check")},_proto.reset=function(){this.set(this.defaults,{silent:!0}),this.nodes.reset([]),this.edges.reset([])},_proto.nextNodeIndex=function(){var index=parseInt(this.get("next_node_index"),10)||1;return this.set("next_node_index",index+1),index},_proto.nextEdgeIndex=function(){var index=parseInt(this.get("next_edge_index"),10)||1;return this.set("next_edge_index",index+1),index},_proto.getTitle=function(){return this.escape("title")||"Untitled simulation"},_proto.getCharacter=function(){return this.characters.get(this.get("character_id"))},_proto.getBackground=function(){return this.backgrounds.get(this.get("background_id"))},_proto.loadStats=function(){var _this2=this;return!!this.statsWasLoaded||(this.edges.fetch({url:this.url()+"/stats",complete:function(){_this2.statsWasLoaded=!0,partials_dispatcher__WEBPACK_IMPORTED_MODULE_7__.a.Events.trigger("editor:stats:loaded")}}),!1)},_proto.translations=function(key){return this.translationsCache||(this.translationsCache=constants_project__WEBPACK_IMPORTED_MODULE_8__.a.translations),key?this.translationsCache[key]:this.translationsCache},_proto.convertToMultipleScoring=function(convert){void 0===convert&&(convert=!1);var score=this.scores.create({name:"Score #1"});this.nodes.each((function(node){return node.convertToMultipleScores(score.get("uid"),convert)})),this.set("multiple_scoring",!0)},_proto.convertToSingleScoring=function(){this.scores.each((function(score){return score.set("deleted",!0)})),this.scores.remove(this.scores.models),this.nodes.each((function(node){return node.convertToSingleScore()})),this.set("multiple_scoring",!1)},Project}(Backbone.Model)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},KgWp:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Character}));var constants_character__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("LGAl"),constants_node__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("RIFn");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Character=function(_Backbone$Model){var subClass,superClass;function Character(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Character).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Character.prototype;return _proto.defaults=function(){return constants_character__WEBPACK_IMPORTED_MODULE_0__.a},_proto.initialize=function(){this.views={},this.uploader=!1},_proto.defaultFace=function(){return{x:0,y:0,width:constants_character__WEBPACK_IMPORTED_MODULE_0__.b,height:constants_character__WEBPACK_IMPORTED_MODULE_0__.b,normal_x:-constants_character__WEBPACK_IMPORTED_MODULE_0__.b/2}},_proto.imageURL=function(options){void 0===options&&(options={});var style=options.style||"small",emotion=this.emotion(options.emotion);if(emotion)return emotion[style+"_url"]},_proto.emotion=function(name){var emotions=this.get("emotions"),exist=name;if(emotions)return this.get("emotional")&&emotions[name]||(exist=constants_node__WEBPACK_IMPORTED_MODULE_1__.b.emotion),emotions[exist]},_proto.getFace=function(name){var emotion=this.emotion(name);return emotion&&emotion.face?emotion.face:this.defaultFace()},_proto.parse=function(response){return null!=response.character?response.character:response},Character}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},LGAl:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return FACE_DEFAULT_HEIGHT})),__webpack_require__.d(__webpack_exports__,"c",(function(){return LG_HEIGHT_RATIO})),__webpack_require__.d(__webpack_exports__,"e",(function(){return MD_HEIGHT})),__webpack_require__.d(__webpack_exports__,"f",(function(){return MD_HEIGHT_RATIO})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MD_FACE_RATIO})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULTS}));var FACE_DEFAULT_HEIGHT=100,LG_HEIGHT_RATIO=.66,MD_HEIGHT=380,MD_HEIGHT_RATIO=.66,MD_FACE_RATIO=1.5,DEFAULTS={emotional:!1,emotions:{normal:{player_url:"",small_url:""}},private:!1,behavior:"selected"}},LcpF:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return NodeFeedbackView}));__webpack_require__("N6Ff"),__webpack_require__("qoQZ"),__webpack_require__("/xhF");var helpers_font_auto_size__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3TV9"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("25es"),_templates_nodes_feedback__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ErNW"),_templates_nodes_feedback__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_templates_nodes_feedback__WEBPACK_IMPORTED_MODULE_5__),_stores_player__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2WfA");function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var NodeFeedbackView=function(_Backbone$View){var subClass,superClass;function NodeFeedbackView(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Backbone$View.call.apply(_Backbone$View,[this].concat(args))||this).hotkey=_this.hotkey.bind(_assertThisInitialized(_this)),_this}superClass=_Backbone$View,(subClass=NodeFeedbackView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=NodeFeedbackView.prototype;return _proto.tagName=function(){return"div"},_proto.className=function(){return"feedback"},_proto.events=function(){return{"click .continue":"continue","click .close":"continue","click .js-multiple-details":"showDetails"}},_proto.initialize=function(){this.visible=!1,this.container="div.player-feedbacks"},_proto.templateAttributes=function(){return{translations:_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.project.translations(),multiple:_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.project.get("multiple_scoring")}},_proto.render=function(){return!(this.$el.parent().length>0)&&(this.$el.html(_templates_nodes_feedback__WEBPACK_IMPORTED_MODULE_5___default()(this.templateAttributes())),this.$el.css("visibility","hidden").appendTo(this.container),this.$text=this.$(".js-text"),this.$score=this.$(".score"),this.listenTo(this.model,"change:feedback change:score change:show_score_with_feedback",this.renderContent),this.listenTo(this.model,"player:feedback:show",this.show),this.listenTo(this.model,"player:feedback:hide",this.hide),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events,"player:reset",this.reset),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events,"player:details:shown",this.onDetails),this)},_proto.reset=function(){this.onDetails(!1),this.hide()},_proto.show=function(){if(!this.visible){this.visible=!0,this.renderContent(),this.setFontSize();var options={visibility:"visible"};_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.project.get("disable_player_animation")&&(options.duration=0),options.complete=this.afterShow.bind(this),this.$el.velocity("stop").velocity({opacity:1,top:-245},options),this.enableHotkeys()}},_proto.hide=function(callback){if(this.visible){this.visible=!1,this.disableHotkeys();var options={visibility:"hidden",complete:callback};_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("stop").velocity({opacity:0,top:0},options)}},_proto.continue=function(){this.hide(),this.model.trigger("player:feedback:continue")},_proto.renderContent=function(){var score=_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.playlog.score();this.$el.toggleClass("finish",0===this.model.edges().size()),this.$score.text(score),this.$el.toggleClass("with-score",this.model.get("show_score_with_feedback")&&null!=score),this.$text.html(this.model.getFeedback()),this.visible&&this.setFontSize()},_proto.afterShow=function(){this.focus()},_proto.setFontSize=function(){var fontSize=48,width=this.$text.width(),height=this.$el.height()-100;fontSize=Object(helpers_font_auto_size__WEBPACK_IMPORTED_MODULE_3__.a)(this.model.getFeedback(),{minSize:14,maxSize:50,size:fontSize,width:width,height:height,css:{font:this.$text.css("font"),lineHeight:"normal"}}),this.$text.css({fontSize:fontSize})},_proto.hotkey=function(event){event.preventDefault(),this.model.edges().size()>0&&this.continue()},_proto.enableHotkeys=function(){this.disableHotkeys(),$(window.document).on("keydown",null,"space",this.hotkey)},_proto.disableHotkeys=function(){$(window.document).off("keydown",this.hotkey)},_proto.focus=function(){window.location.search.search(/disable-focus/)>=0||this.$text.focus()},_proto.showDetails=function(){partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:details:show")},_proto.onDetails=function(state){if(this.visible){var options={visibility:state?"hidden":"visible"};_stores_player__WEBPACK_IMPORTED_MODULE_6__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("finish").velocity({opacity:state?0:1},options)}},NodeFeedbackView}(Backbone.View)}).call(this,__webpack_require__("clIx"))},Mln3:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineView}));var partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("25es"),_stores_player__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2WfA"),_models_timeline_node__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1QKn"),_timeline_node_view__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("+Aii"),_timeline_edge_view__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("dCG4");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TimelineView=function(_Backbone$View){var subClass,superClass;function TimelineView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=TimelineView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=TimelineView.prototype;return _proto.initialize=function(options){this.views={},this.$pixel=options.pixel},_proto.render=function(){return this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.reset),this.listenTo(this.collection,"remove",this.removeOne),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:timeline:top",this.moveUp),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:details:shown",this.onDetails),this},_proto.addOne=function(entry){var view;view=entry instanceof _models_timeline_node__WEBPACK_IMPORTED_MODULE_2__.a?new _timeline_node_view__WEBPACK_IMPORTED_MODULE_3__.a({model:entry,container:this.$el}).render():new _timeline_edge_view__WEBPACK_IMPORTED_MODULE_4__.a({model:entry,container:this.$el}).render(),entry.trigger("player:timeline:show"),this.views[entry.cid]=view},_proto.reset=function(){_(this.views).each((function(view){return view.remove()})),this.views={},this.$el.css({top:15})},_proto.moveUp=function(top,animate){void 0===animate&&(animate=!0);var css={top:-top/this.getScale()+15},options={};animate&&!_stores_player__WEBPACK_IMPORTED_MODULE_1__.a.project.get("disable_player_animation")||(options.duration=0),this.$el.velocity(css,options)},_proto.getScale=function(){return this.$pixel.position().left/50},_proto.removeOne=function(entry){entry.trigger("player:timeline:hide"),delete this.views[entry.cid]},_proto.onDetails=function(state){var options={};_stores_player__WEBPACK_IMPORTED_MODULE_1__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity(state?"fadeOut":"fadeIn",options)},TimelineView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},NAey:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("F1nI"),__webpack_require__("BLmf");__webpack_require__("Wo15").a.call(window.btx)},Nogj:function(module,exports){module.exports={NODE_EMOTIONS:["happy","normal","puzzled","unhappy","angry"],NODE_DEFAULT_EMOTION:"normal",NODE_COLORS:["#de2226","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"],SCORE_UNKNOWN_COLOR:"#cdcdcd",THEME_FONTS:["Arial","Comic Sans MS","Courier","Georgia","Helvetica","Open Sans","Times New Roman","Verdana"],THEME_COLORS:["#000000","#ffffff","#888888","#de2226","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017","#ff4900"],PROJECT_EMBED_MAXWIDTH:800,PROJECT_EMBED_MAXHEIGHT:500,PROJECT_EMBED_MINWIDTH:440,PROJECT_EMBED_MINHEIGHT:370,PASSWORD_EXPIRATION_DAYS:60,PASSWORD_MIN_LENGTH:8,PLAYLOG_VERSION:4,REVIEWER_INVITE_TIMEOUT:600,SUPPORT_EMAIL:"support@branchtrack.com",VIDEO_FILE_SIZE_LIMIT:67108864,ATTACHMENT_FILE_SIZE_LIMIT:5242880,CLASSROOM_PRIVACY_ICONS:{public:"globe",protected:"lock",private:"lock-user"},PLAYER_TRANSLATIONS:{happy:"Happy",normal:"Normal",puzzled:"Puzzled",unhappy:"Unhappy",angry:"Angry",continue:"continue",score_top:"Points scored",score_bottom:"",show_details:"Show details",total_score_details:"Total score breakdown",interpolation_name:"Player",timeline_cumulative_score:"Score changed:",timeline_total_score:"Total score:",current_score:"Your current score",pts:"PTS",init_voice_content:"This simulation contains voiceover audio. Please choose how do you want to proceed\u2026",init_voice_yes:"Proceed with audio",init_voice_no:"Mute voiceover",load_more:"Load more...",menu_leave_simulation:"Leave simulation",menu_edit_simulation:"Edit simulation",menu_turn_on_voiceover:"Turn on voiceover",menu_turn_off_voiceover:"Turn off voiceover",menu_turn_on_animation:"Enable animations",menu_turn_off_animation:"Disable animations",finish_replay_link:"Replay",finish_edit_link:"Edit this simulation",finish_projects_link:"Back to simulations",finish_classroom_link:"Back to class"},PLAYER_V1_ONLY_TRANSLATIONS:["score_top","score_bottom","show_details","total_score_details","timeline_cumulative_score","timeline_total_score"],RECAPTCHA_TAG_NAME:"g-recaptcha-response"}},Nsum:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){return function(chart){chart.on("draw",(function(data){"label"===data.type&&(data.element.remove(),data.group.elem("text",{x:data.x,y:data.y-3,class:"ms-count"}).text(data.text),data.group.elem("text",{x:data.x,y:data.y+7,class:"ms-percent"}).text(Math.round(100*parseInt(data.text,10)/chart.data.subtotal)+"%")),"slice"===data.type&&(data.element.attr({style:"fill:"+chart.data.colors[data.index]+";"}),data.element.attr({"data-uid":chart.data.uids[data.index]}))}))}}},PMlq:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return EmotionMeterView}));__webpack_require__("8At4");var constants_node__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("RIFn"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("25es"),_stores_player__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2WfA"),_templates_emotion_meter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("mdnq"),_templates_emotion_meter__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_templates_emotion_meter__WEBPACK_IMPORTED_MODULE_4__);function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var EmotionMeterView=function(_Backbone$View){var subClass,superClass;function EmotionMeterView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=EmotionMeterView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=EmotionMeterView.prototype;return _proto.className=function(){return"player-emotion-meter"},_proto.events=function(){return{"mouseenter div.emotion":"showEmotionTip"}},_proto.initialize=function(options){this.container=options.container},_proto.render=function(){var attributes={translations:_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.translations()};return this.$el.html(_templates_emotion_meter__WEBPACK_IMPORTED_MODULE_4___default()(attributes)),this.toggle(),this.$el.prependTo(this.container),this.$track=this.$el.find(".track"),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project,"change:disable_emotion_meter",this.toggle),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.nodes,"change:emotion",this.update),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events,"player:timeline:node",this.update),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events,"player:details:shown",this.onDetails),this},_proto.toggle=function(){var options={},css={opacity:0};_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")&&(options.duration=0),_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_emotion_meter")?options.display="none":(css.opacity=1,options.display="block"),this.$el.toggleClass("visible",!_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_emotion_meter")),this.$el.velocity(css,options)},_proto.update=function(){var _this=this,node=_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.playlog.lastNode();if(node){var emotion=node.getEmotion();if(this.emotion===emotion)return!1;this.emotion=emotion;var index=_.indexOf(constants_node__WEBPACK_IMPORTED_MODULE_1__.c,emotion),css={height:230-(45.4*index+23*index/5)},$emotion=this.$(".emotion."+emotion);this.$(".emotion").not($emotion).css({display:"none",opacity:0}),_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")&&($emotion.css({display:"block",opacity:1}),this.$track.attr("class","track "+emotion).css(css),this.showEmotionTip({currentTarget:$emotion[0]})),this.$track.attr("class","track "+emotion).velocity(css,{display:"block",complete:function(){return $emotion.velocity({opacity:1},{display:"block"}),_this.showEmotionTip({currentTarget:$emotion[0]})}})}},_proto.showEmotionTip=function(event){var _this2=this,$tip=$("em",event.currentTarget);_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")?$tip.css({display:"block",opacity:1}):$tip.velocity("stop").velocity({opacity:1},{display:"block"}),clearTimeout(this.timer),this.timer=setTimeout((function(){return _this2.hideEmotionTip($tip)}),2500)},_proto.hideEmotionTip=function($tip){_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")?$tip.css({display:"none",opacity:0}):$tip.velocity({opacity:0},{display:"none"})},_proto.onDetails=function(state){if(_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_emotion_meter"))return!1;var options={};_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity(state?"fadeOut":"fadeIn",options)},EmotionMeterView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},Qw32:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}__webpack_require__.d(__webpack_exports__,"a",(function(){return Score}));var Score=function(_Backbone$Model){var subClass,superClass;function Score(){return _Backbone$Model.apply(this,arguments)||this}return superClass=_Backbone$Model,(subClass=Score).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass),Score.prototype.initialize=function(attributes,options){void 0===options&&(options={}),this.project=options.project},Score}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},RIFn:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return SENSITIVE_ATTRIBUTES})),__webpack_require__.d(__webpack_exports__,"c",(function(){return EMOTIONS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return COLORS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return FREETEXT_DEFAULT_CONTENT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DEFAULTS}));var SENSITIVE_ATTRIBUTES=["kind","index","deleted","content","top","left","emotion","feedback","score","scores","color","character_id","background_id","character_behavior","background_behavior","attachment_id","voice_id","video_id","default_edge_index","show_edges_delay","show_score_with_feedback"],EMOTIONS=["happy","normal","puzzled","unhappy","angry"],COLORS=["#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"],FREETEXT_DEFAULT_CONTENT="Please enter your free text comment in the field below.",DEFAULTS={kind:"regular",index:0,content:"",top:0,left:0,score:null,scores:null,emotion:"normal",color:"",feedback:"",unresolved_comments_count:0,default_edge_index:null,show_edges_delay:null,character_behavior:null,background_behavior:null,show_score_with_feedback:!0,deleted:!1}},Rzmm:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("DDrh"),__webpack_require__("9wHH"),__webpack_require__("Cwug"),__webpack_require__("WIcX");__webpack_exports__.a=function(project){var url,assets={initial:new Set,rest:new Set},index=project.get("initial_node_index"),initial=project.nodes.findWhere({index:index});return project.nodes.each((function(node){node.get("background_id")&&(url=project.backgrounds.get(node.get("background_id")).imageURL({style:"fhd"}))&&assets[initial==node?"initial":"rest"].add(url),node.get("character_id")&&(url=project.characters.get(node.get("character_id")).imageURL({style:"player",emotion:node.getEmotion()}))&&assets[initial==node?"initial":"rest"].add(url),assets.rest.delete(Array.from(assets.initial))})),assets}},TzHg:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return NodeEdgesView}));__webpack_require__("N6Ff"),__webpack_require__("8At4");var partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("25es"),partials_view_manager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("xtKz"),_stores_player__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2WfA"),_edge_show_view__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("mjzL");function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var NodeEdgesView=function(_Backbone$View){var subClass,superClass;function NodeEdgesView(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Backbone$View.call.apply(_Backbone$View,[this].concat(args))||this).hotkey=_this.hotkey.bind(_assertThisInitialized(_this)),_this}superClass=_Backbone$View,(subClass=NodeEdgesView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=NodeEdgesView.prototype;return _proto.tagName=function(){return"ol"},_proto.className=function(){return"edges"},_proto.initialize=function(){this.container="div.player-edges"},_proto.render=function(){return!(this.$el.parent().length>0)&&(this.renderEdges(),this.renderKind(),this.$el.appendTo(this.container),this.listenTo(this.model,"player:edges:show",this.show),this.listenTo(this.model,"player:edges:hide",this.hide),this.listenTo(this.model,"edges:reposition",this.renderEdges),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.edges,"add",this.addEdge),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.edges,"remove",this.removeEdge),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.edges,"change:from_node_index",this.checkEdge),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project,"change:randomize_choices_order",this.renderEdges),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events,"player:reset",this.reset),this)},_proto.renderEdges=function(){var _this2=this,edges=this.model.edges();_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.get("randomize_choices_order")&&(edges=_(edges.shuffle())),edges.each((function(edge,index){var view=partials_view_manager__WEBPACK_IMPORTED_MODULE_3__.a.get(edge,_edge_show_view__WEBPACK_IMPORTED_MODULE_5__.a,{ns:"player"}).render();edge.set("order",index+1),view.$el.appendTo(_this2.el)}))},_proto.renderKind=function(){this.$el.toggleClass("freetext","freetext"===this.model.get("kind"))},_proto.addEdge=function(edge){edge.fromNode===this.model&&this.renderEdges()},_proto.removeEdge=function(edge){edge.fromNode===this.model&&(partials_view_manager__WEBPACK_IMPORTED_MODULE_3__.a.remove(edge,_edge_show_view__WEBPACK_IMPORTED_MODULE_5__.a,{ns:"player"}),this.renderEdges())},_proto.reset=function(){this.hide()},_proto.hide=function(){this.disableEdges(),this.disableHotkeys(),_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.get("disable_player_animation")?this.$el.hide():this.$el.velocity("stop").velocity({opacity:0,bottom:-this.$el.height()},{display:"none"})},_proto.show=function(){var css={opacity:1,left:0};_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.project.get("disable_player_animation")?this.$el.css(_.extend(css,{bottom:0,display:"block"})):this.$el.css({bottom:0,left:-this.$el.width()}).velocity("stop").velocity(css,{display:"block"}),_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.playlog.startWaiting(),partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events.trigger("player:voice:hide"),this.enableEdges(),this.enableHotkeys()},_proto.hotkey=function(event){if(event.which>48&&event.which<=57){var digit=event.which-48,edge=this.model.edges().find((function(e){return e.get("order")===digit}));edge&&edge.trigger("player:edge:submit")}},_proto.enableEdges=function(){this.model.edges().each((function(edge){return edge.trigger("player:edge:submittable",!0)}))},_proto.disableEdges=function(){this.model.edges().each((function(edge){return edge.trigger("player:edge:submittable",!1)}))},_proto.enableHotkeys=function(){this.disableHotkeys(),$(document).on("keyup",null,"1 2 3 4 5 6 7 8 9 0",this.hotkey),partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events.trigger("player:speech:start",this.model)},_proto.disableHotkeys=function(){$(document).off("keyup",this.hotkey.bind(this)),partials_dispatcher__WEBPACK_IMPORTED_MODULE_2__.a.Events.trigger("player:speech:stop")},NodeEdgesView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},UGzN:function(module,exports){window.createjs=window.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.4.1",a.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"}(),function(){"use strict";var a=function(a,b,c){this.initialize(a,b,c)},b=a.prototype;b.type=null,b.target=null,b.currentTarget=null,b.eventPhase=0,b.bubbles=!1,b.cancelable=!1,b.timeStamp=0,b.defaultPrevented=!1,b.propagationStopped=!1,b.immediatePropagationStopped=!1,b.removed=!1,b.initialize=function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=(new Date).getTime()},b.preventDefault=function(){this.defaultPrevented=!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=a}(),function(){"use strict";var a=function(){},b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b._listeners=null,b._captureListeners=null,b.initialize=function(){},b.addEventListener=function(a,b,c){var d,e=(d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[a];return e&&this.removeEventListener(a,b,c),(e=d[a])?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,(function(a){b.call(c,a,e),d&&a.remove()}),f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var d=this,e=[d];d.parent;)e.push(d=d.parent);var f,g=e.length;for(f=g-1;f>=0&&!a.propagationStopped;f--)e[f]._dispatchEvent(a,1+(0==f));for(f=1;g>f&&!a.propagationStopped;f++)e[f]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length))return;a.currentTarget=this,a.eventPhase=b,a.removed=!1,e=e.slice();for(var f=0;c>f&&!a.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(a):g(a),a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}},createjs.EventDispatcher=a}(),function(){"use strict";createjs.indexOf=function(a,b){for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1}}(),function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),function(){"use strict";var a=function(){this.init()},b=a.prototype=new createjs.EventDispatcher,c=a;c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?)|(.{0,2}\/{1}))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,c.PATH_PATTERN=/^(?:(\w+:)\/{2})|(.{0,2}\/{1})?([/.]*?(?:[^?]+)?\/?)?$/,b.loaded=!1,b.canceled=!1,b.progress=0,b._item=null,b.getItem=function(){return this._item},b.init=function(){},b.load=function(){},b.close=function(){},b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,(b=new createjs.Event("progress")).loaded=this.progress,b.total=1):(b=a,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),b.progress=this.progress,this.hasEventListener("progress")&&this.dispatchEvent(b)}},b._sendComplete=function(){this._isCanceled()||this.dispatchEvent("complete")},b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.Event("error")),this.dispatchEvent(a))},b._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},b._parseURI=function(a){return a?a.match(c.FILE_PATTERN):null},b._parsePath=function(a){return a?a.match(c.PATH_PATTERN):null},b._formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},b.buildPath=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this._formatQueryString(b,c):a+"?"+this._formatQueryString(b,c)},b._isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");return c.href=location.href,""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname)},b._isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol},b.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=a}(),function(){"use strict";var a=function(a,b,c){this.init(a,b,c)},b=a.prototype=new createjs.AbstractLoader,c=a;c.loadTimeout=8e3,c.LOAD_TIMEOUT=0,c.BINARY="binary",c.CSS="css",c.IMAGE="image",c.JAVASCRIPT="javascript",c.JSON="json",c.JSONP="jsonp",c.MANIFEST="manifest",c.SOUND="sound",c.SVG="svg",c.TEXT="text",c.XML="xml",c.POST="POST",c.GET="GET",b._basePath=null,b._crossOrigin="",b.useXHR=!0,b.stopOnError=!1,b.maintainScriptOrder=!0,b.next=null,b._typeCallbacks=null,b._extensionCallbacks=null,b._loadStartWasDispatched=!1,b._maxConnections=1,b._currentlyLoadingScript=null,b._currentLoads=null,b._loadQueue=null,b._loadQueueBackup=null,b._loadItemsById=null,b._loadItemsBySrc=null,b._loadedResults=null,b._loadedRawResults=null,b._numItems=0,b._numItemsLoaded=0,b._scriptOrder=null,b._loadedScripts=null,b.init=function(a,b,c){this._numItems=this._numItemsLoaded=0,this._paused=!1,this._loadStartWasDispatched=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this._basePath=b,this.setUseXHR(a),this._crossOrigin=!0===c?"Anonymous":!1===c||null==c?"":c},b.setUseXHR=function(a){return this.useXHR=0!=a&&null!=window.XMLHttpRequest,this.useXHR},b.removeAll=function(){this.remove()},b.remove=function(a){var b=null;if(!a||a instanceof Array){if(a)b=a;else if(arguments.length>0)return}else b=[a];var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if((g=this._loadQueue[f].getItem()).id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if((g=this._loadQueueBackup[f].getItem()).id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src],this._disposeItem(e);else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{for(var h in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.useXHR)}},b.reset=function(){for(var a in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},c.isBinary=function(a){switch(a){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},c.isText=function(a){switch(a){case createjs.LoadQueue.TEXT:case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.XML:case createjs.LoadQueue.HTML:case createjs.LoadQueue.CSS:case createjs.LoadQueue.SVG:case createjs.LoadQueue.JAVASCRIPT:return!0;default:return!1}},b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},b.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},b.loadFile=function(a,b,c){if(null==a){var d=new createjs.Event("error");return d.text="PRELOAD_NO_FILE",void this._sendError(d)}this._addItem(a,null,c),!1!==b?this.setPaused(!1):this.setPaused(!0)},b.loadManifest=function(a,b,d){var e=null,f=null;if(a instanceof Array){if(0==a.length)return(g=new createjs.Event("error")).text="PRELOAD_MANIFEST_EMPTY",void this._sendError(g);e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a)return(g=new createjs.Event("error")).text="PRELOAD_MANIFEST_NULL",void this._sendError(g);if(void 0!==a.src){if(null==a.type)a.type=c.MANIFEST;else if(a.type!=c.MANIFEST){var g;(g=new createjs.Event("error")).text="PRELOAD_MANIFEST_ERROR",this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);!1!==b?this.setPaused(!1):this.setPaused(!0)},b.load=function(){this.setPaused(!1)},b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},b.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},b._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&(this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&d.type==createjs.LoadQueue.JAVASCRIPT&&e instanceof createjs.XHRLoader&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},b._createLoadItem=function(a,b,c){var d=null;switch(typeof a){case"string":d={src:a};break;case"object":d=window.HTMLAudioElement&&a instanceof window.HTMLAudioElement?{tag:a,src:d.tag.src,type:createjs.LoadQueue.SOUND}:a;break;default:return null}var e=this._parseURI(d.src);null!=e&&(d.ext=e[6]),null==d.type&&(d.type=this._getTypeByExtension(d.ext));var f="",g=c||this._basePath,h=d.src;if(e&&null==e[1]&&null==e[3])if(b){f=b;var i=this._parsePath(b);h=b+h,null!=g&&i&&null==i[1]&&null==i[2]&&(f=g+f)}else null!=g&&(f=g);if(d.src=f+d.src,d.path=f,(d.type==createjs.LoadQueue.JSON||d.type==createjs.LoadQueue.MANIFEST)&&(d._loadAsJSONP=null!=d.callback),d.type==createjs.LoadQueue.JSONP&&null==d.callback)throw new Error("callback is required for loading JSONP requests.");(void 0===d.tag||null===d.tag)&&(d.tag=this._createTag(d)),(void 0===d.id||null===d.id||""===d.id)&&(d.id=h);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d.src,d.type,d.id,d.data,f,this);if(!1===k)return null;!0===k||(null!=k.src&&(d.src=k.src),null!=k.id&&(d.id=k.id),null!=k.tag&&(d.tag=k.tag),null!=k.completeHandler&&(d.completeHandler=k.completeHandler),k.type&&(d.type=k.type),null!=(e=this._parseURI(d.src))&&null!=e[6]&&(d.ext=e[6].toLowerCase()))}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,d},b._createLoader=function(a){var b=this.useXHR;switch(a.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:b=!a._loadAsJSONP;break;case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:b=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:b=!1;break;case null:return null}return b?new createjs.XHRLoader(a,this._crossOrigin):new createjs.TagLoader(a)},b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];if(this.maintainScriptOrder&&b instanceof createjs.TagLoader&&b.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(a,1),a--,this._loadItem(b)}}},b._loadItem=function(a){a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},b._handleFileError=function(a){var b=a.target;this._numItemsLoaded++,this._updateProgress();var c=new createjs.Event("error");c.text="FILE_LOAD_ERROR",c.item=b.getItem(),this._sendError(c),this.stopOnError||(this._removeLoadItem(b),this._loadNext())},b._handleFileComplete=function(a){var b=a.target,c=b.getItem();if(this._loadedResults[c.id]=b.getResult(),b instanceof createjs.XHRLoader&&(this._loadedRawResults[c.id]=b.getResult(!0)),this._removeLoadItem(b),this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT){if(!(b instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,c)]=c,void this._checkScriptLoadOrder(b);this._currentlyLoadingScript=!1}if(delete c._loadAsJSONP,c.type==createjs.LoadQueue.MANIFEST){var d=b.getResult();null!=d&&void 0!==d.manifest&&this.loadManifest(d,!0)}this._processFinishedLoad(c,b)},b._processFinishedLoad=function(a,b){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(!0!==c){var d=this._loadedResults[c.id];(document.body||document.getElementsByTagName("body")[0]).appendChild(d),this._processFinishedLoad(c),this._loadedScripts[b]=!0}}},b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},b._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._sendProgress(a)},b._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},b._createTag=function(a){var b=null;switch(a.type){case createjs.LoadQueue.IMAGE:return b=document.createElement("img"),""==this._crossOrigin||this._isLocal(a)||(b.crossOrigin=this._crossOrigin),b;case createjs.LoadQueue.SOUND:return(b=document.createElement("audio")).autoplay=!1,b;case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:case createjs.LoadQueue.MANIFEST:return(b=document.createElement("script")).type="text/javascript",b;case createjs.LoadQueue.CSS:return(b=this.useXHR?document.createElement("style"):document.createElement("link")).rel="stylesheet",b.type="text/css",b;case createjs.LoadQueue.SVG:return this.useXHR?b=document.createElement("svg"):(b=document.createElement("object")).type="image/svg+xml",b}return null},b._getTypeByExtension=function(a){if(null==a)return createjs.LoadQueue.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},b._sendFileProgress=function(a,b){if(this._isCanceled())this._cleanUp();else if(this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},b._sendFileComplete=function(a,b){if(!this._isCanceled()){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},b.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=a;var d=function(){};d.init=function(){var a=navigator.userAgent;d.isFirefox=a.indexOf("Firefox")>-1,d.isOpera=null!=window.opera,d.isChrome=a.indexOf("Chrome")>-1,d.isIOS=a.indexOf("iPod")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1},d.init(),createjs.LoadQueue.BrowserDetect=d}(),function(){"use strict";var a=function(a){this.init(a)},b=a.prototype=new createjs.AbstractLoader;b._loadTimeout=null,b._tagCompleteProxy=null,b._isAudio=!1,b._tag=null,b._jsonResult=null,b.init=function(a){this._item=a,this._tag=a.tag,this._isAudio=window.HTMLAudioElement&&a.tag instanceof window.HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},b.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP||this._item.type==createjs.LoadQueue.MANIFEST?this._jsonResult:this._tag},b.cancel=function(){this.canceled=!0,this._clean()},b.load=function(){var a=this._item,b=this._tag;clearTimeout(this._loadTimeout);var c=createjs.LoadQueue.LOAD_TIMEOUT;0==c&&(c=createjs.LoadQueue.loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),c),this._isAudio&&(b.src=null,b.preload="auto"),b.onerror=createjs.proxy(this._handleError,this),this._isAudio?(b.onstalled=createjs.proxy(this._handleStalled,this),b.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(b.onload=createjs.proxy(this._handleLoad,this),b.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var d=this.buildPath(a.src,a.values);switch(a.type){case createjs.LoadQueue.CSS:b.href=d;break;case createjs.LoadQueue.SVG:b.data=d;break;default:b.src=d}if(a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.MANIFEST){if(null==a.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[a.callback])throw new Error('JSONP callback "'+a.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[a.callback]=createjs.proxy(this._handleJSONPLoad,this)}(a.type==createjs.LoadQueue.SVG||a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.MANIFEST||a.type==createjs.LoadQueue.JAVASCRIPT||a.type==createjs.LoadQueue.CSS)&&(this._startTagVisibility=b.style.visibility,b.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(b)),null!=b.load&&b.load()},b._handleJSONPLoad=function(a){this._jsonResult=a},b._handleTimeout=function(){this._clean();var a=new createjs.Event("error");a.text="PRELOAD_TIMEOUT",this._sendError(a)},b._handleStalled=function(){},b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this.getItem().tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleLoad()},b._handleLoad=function(){if(!this._isCanceled()){var a=this.getItem(),b=a.tag;if(!(this.loaded||this._isAudio&&4!==b.readyState)){switch(this.loaded=!0,a.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.CSS:b.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(b)}this._clean(),this._sendComplete()}}},b._clean=function(){clearTimeout(this._loadTimeout);var a,b=(a=this.getItem()).tag;null!=b&&(b.onload=null,b.removeEventListener&&b.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),b.onstalled=null,b.onprogress=null,b.onerror=null,null!=b.parentNode&&a.type==createjs.LoadQueue.SVG&&a.type==createjs.LoadQueue.JSON&&a.type==createjs.LoadQueue.MANIFEST&&a.type==createjs.LoadQueue.CSS&&a.type==createjs.LoadQueue.JSONP&&b.parentNode.removeChild(b)),((a=this.getItem()).type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.MANIFEST)&&(window[a.callback]=null)},b.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=a}(),function(){"use strict";var a=function(a,b){this.init(a,b)},b=a.prototype=new createjs.AbstractLoader;b._request=null,b._loadTimeout=null,b._xhrLevel=1,b._response=null,b._rawResponse=null,b._crossOrigin="",b.init=function(a,b){this._item=a,this._crossOrigin=b,this._createXHR(a)},b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null!=this._request){if(this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel){var a=createjs.LoadQueue.LOAD_TIMEOUT;if(0==a)a=createjs.LoadQueue.loadTimeout;else try{console.warn("LoadQueue.LOAD_TIMEOUT has been deprecated in favor of LoadQueue.loadTimeout")}catch(b){}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),a)}this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(c){var d=new createjs.Event("error");d.error=c,this._sendError(d)}}else this._handleError()},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.Event("progress");b.loaded=a.loaded,b.total=a.total,this._sendProgress(b)}},b._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},b._handleAbort=function(){this._clean();var a=new createjs.Event("error");a.text="XHR_ABORTED",this._sendError(a)},b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)},b._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return void this._handleError();this._response=this._getResponse(),this._clean(),this._generateTag()&&this._sendComplete()}},b._handleTimeout=function(a){this._clean(),new createjs.Event("error").text="PRELOAD_TIMEOUT",this._sendError(a)},b._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0},b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},b._createXHR=function(a){var b=this._isCrossDomain(a),c=null;if(b&&window.XDomainRequest)c=new XDomainRequest;else if(window.XMLHttpRequest)c=new XMLHttpRequest;else try{c=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(d){try{c=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(d){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){return!1}}}createjs.LoadQueue.isText(a.type)&&c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8"),this._xhrLevel="string"==typeof c.responseType?2:1;var e;return e=a.method==createjs.LoadQueue.GET?this.buildPath(a.src,a.values):a.src,c.open(a.method||createjs.LoadQueue.GET,e,!0),b&&c instanceof XMLHttpRequest&&1==this._xhrLevel&&c.setRequestHeader("Origin",location.origin),a.values&&a.method==createjs.LoadQueue.POST&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(a.type)&&(c.responseType="arraybuffer"),this._request=c,!0},b._clean=function(){clearTimeout(this._loadTimeout);var a=this._request;a.onloadstart=null,a.onprogress=null,a.onabort=null,a.onerror=null,a.onload=null,a.ontimeout=null,a.onloadend=null,a.onreadystatechange=null},b._generateTag=function(){var a=this._item.type,b=this._item.tag;switch(a){case createjs.LoadQueue.IMAGE:return b.onload=createjs.proxy(this._handleTagReady,this),""!=this._crossOrigin&&(b.crossOrigin="Anonymous"),b.src=this.buildPath(this._item.src,this._item.values),this._rawResponse=this._response,this._response=b,!1;case createjs.LoadQueue.JAVASCRIPT:return(b=document.createElement("script")).text=this._response,this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.cssText=this._response;else{var d=document.createTextNode(this._response);b.appendChild(d)}return this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.XML:var e=this._parseXML(this._response,"text/xml");return this._rawResponse=this._response,this._response=e,!0;case createjs.LoadQueue.SVG:e=this._parseXML(this._response,"image/svg+xml");return this._rawResponse=this._response,null!=e.documentElement?(b.appendChild(e.documentElement),this._response=b):this._response=e,!0;case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:var f={};try{f=JSON.parse(this._response)}catch(g){f=g}return this._rawResponse=this._response,this._response=f,!0}return!0},b._parseXML=function(a,b){var c=null;try{if(window.DOMParser)c=(new DOMParser).parseFromString(a,b);else(c=new ActiveXObject("Microsoft.XMLDOM")).async=!1,c.loadXML(a)}catch(e){}return c},b._handleTagReady=function(){this._sendComplete()},b.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=a}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,(function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&((e=str(d=rep[c],i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&((e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(void 0!==(d=walk(e,c))?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=window.createjs},VGBz:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Timeline}));__webpack_require__("W1wS"),__webpack_require__("exX3"),__webpack_require__("mbm0"),__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug"),__webpack_require__("vpd+"),__webpack_require__("mejx"),__webpack_require__("olot");var _models_node__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("dZpG"),_models_edge__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("D5gs"),_models_timeline_node__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("1QKn"),_models_timeline_edge__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("uxOf");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Timeline=function(_Backbone$Collection){var subClass,superClass;function Timeline(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Timeline).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Timeline.prototype;return _proto.initialize=function(models,options){void 0===options&&(options={}),this.playlog=options.playlog},_proto.model=function(attributes,options){return void 0===options&&(options={}),options.parent instanceof _models_edge__WEBPACK_IMPORTED_MODULE_10__.a?new _models_timeline_edge__WEBPACK_IMPORTED_MODULE_12__.a(attributes,options):options.parent instanceof _models_node__WEBPACK_IMPORTED_MODULE_9__.a?new _models_timeline_node__WEBPACK_IMPORTED_MODULE_11__.a(attributes,options):void 0},_proto.create=function(parent,attributes,options){void 0===attributes&&(attributes={}),void 0===options&&(options={}),_extends(options,{parent:parent});var node=parent instanceof _models_node__WEBPACK_IMPORTED_MODULE_9__.a?parent:parent.toNode;node&&(this.filter((function(model){return model.parent===node})).length>0?_extends(attributes,{score:null,scores:null}):_extends(attributes,node.pick("score","scores")));var lastTimelineNode=this.playlog.lastTimelineNode();lastTimelineNode&&_extends(attributes,{prev_total_score:lastTimelineNode.get("total_score"),prev_total_scores:_.clone(lastTimelineNode.get("total_scores"))});var model=this.model(attributes,options);return this.calculateScoreFor(model),this.add(model,options)},_proto.eventJSON=function(){return this.map((function(entry){return entry.eventJSON()}))},_proto.calculateScoreFor=function(entry){if(this.playlog.project.get("multiple_scoring")){var uids=this.playlog.project.scores.uids(),totalScores=_.clone(entry.get("prev_total_scores")||{});_(uids).each((function(uid){var value=entry.scoreFor(uid);null!=value&&(totalScores[uid]=(totalScores[uid]||0)+value)})),_.isEmpty(totalScores)||entry.set({total_scores:totalScores,total_score:_(totalScores).values().reduce((function(memo,value){return memo+value}),0)})}else{var nodeScore=entry.get("score"),totalScore=entry.get("prev_total_score");null!=nodeScore&&(_.includes(["-","+"],nodeScore[0])||(totalScore=0),totalScore=(totalScore||0)+parseInt(nodeScore,10)),null!=totalScore&&entry.set("total_score",totalScore)}},Timeline}(Backbone.Collection)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},Wo15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return init}));__webpack_require__("qoQZ"),__webpack_require__("x8ax");function isIE(){var myNav=navigator.userAgent.toLowerCase();return-1!==myNav.indexOf("msie")&&parseInt(myNav.split("msie")[1],10)}var iframe_shown=__webpack_require__("fE8S"),player_view=__webpack_require__("qTC1");function init(){isIE()&&isIE()<9?($(".js-player-preloader").remove(),$(".js-player-ie8").show()):Object(iframe_shown.a)()?($(".js-progress-preloader").css({visibility:"visible"}),new player_view.a({project:this.context.project,playlog:this.context.playlog}).load()):($(".js-player-preloader").remove(),$(".js-player-reload").show())}},Y9lS:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Playlog}));__webpack_require__("W1wS"),__webpack_require__("hmwa"),__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug"),__webpack_require__("exX3"),__webpack_require__("li+S"),__webpack_require__("olot");var loglevel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("OPuQ"),loglevel__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_8__),lib_loader__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("B9Pn"),constants_playlog__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("oj+x"),_collections_timeline__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("VGBz"),_timeline_node__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1QKn"),_timeline_edge__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("uxOf");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Playlog=function(_Backbone$Model){var subClass,superClass;function Playlog(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Playlog).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Playlog.prototype;return _proto.initialize=function(attributes,options){void 0===options&&(options={}),this.idAttribute="token",this.persistable=null==options.persistable||options.persistable,this.saving=!1,this.project=options.project,this.timeline=new _collections_timeline__WEBPACK_IMPORTED_MODULE_11__.a([],{playlog:this}),this.queue=_.chain([]),this.listenTo(this,"request",this.onRequest),this.listenTo(this,"sync",this.onSaveSuccess),this.listenTo(this,"error",this.onSaveError),this.listenTo(this.timeline,"add",this.timelineEntryAdded)},_proto.urlRoot=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_9__.a.url.playlogs},_proto.defaults=function(){return constants_playlog__WEBPACK_IMPORTED_MODULE_10__.a},_proto.reset=function(){this.unset("id"),this.set(this.defaults()),this.timeline.reset()},_proto.start=function(node){this.set("started_at",new Date);var startingNode=null!=node?node:this.project.nodes.findWhere({index:this.project.get("initial_node_index")});startingNode&&this.createTimelineNode(startingNode)},_proto.finish=function(){this.set("finished_at",new Date),this.save()},_proto.questions=function(){return _(this.timeline.filter((function(model){return model instanceof _timeline_node__WEBPACK_IMPORTED_MODULE_12__.a})))},_proto.answers=function(){return _(this.timeline.filter((function(model){return model instanceof _timeline_edge__WEBPACK_IMPORTED_MODULE_13__.a})))},_proto.createTimelineNode=function(node,params,options){void 0===params&&(params={}),void 0===options&&(options={});var attributes={index:this.questions().size()+1,answered_at:new Date};if(["id","content","kind","index"].forEach((function(key){attributes["node_"+key]=node.get(key)})),attributes.index>1){var lastTimelineEdge=this.lastTimelineEdge();_extends(attributes,lastTimelineEdge.pick("duration","edge_id","edge_content","custom_content","edge_position","answered_at"))}_extends(params,attributes),this.timeline.create(node,params,options)},_proto.createTimelineEdge=function(edge,params,options){void 0===params&&(params={}),void 0===options&&(options={});var attributes={index:this.answers().size()+1,duration:this.stopWaiting(),answered_at:new Date};["id","content","position"].forEach((function(key){attributes["edge_"+key]=edge.get(key)})),_extends(params,attributes),this.timeline.create(edge,params,options)},_proto.lastTimelineNode=function(){return this.questions().last()},_proto.lastTimelineEdge=function(){return this.answers().last()},_proto.lastNode=function(){var n=this.lastTimelineNode();return null!=n?n.parent:null},_proto.timelineEntryAdded=function(entry){entry instanceof _timeline_node__WEBPACK_IMPORTED_MODULE_12__.a&&(this.queue.push(entry),entry.get("index")>1&&(0===entry.parent.edges().size()?this.finish():this.save()))},_proto.scoreFor=function(uid){return(this.scores()||{})[uid]},_proto.score=function(){return this.lastTimelineNode().get("total_score")},_proto.scores=function(){return this.lastTimelineNode().get("total_scores")},_proto.onRequest=function(_model,_xhr,_options){this.saving=!0},_proto.save=function(){this.persistable&&(this.saving||_Backbone$Model.prototype.save.call(this,null))},_proto.parse=function(response){return null!=response.playlog?response.playlog:response},_proto.toJSON=function(_options){void 0===_options&&(_options={});var json=this.pick("project_id","lesson_id","learner_id","instaplay_id");return json.playlog=this.pick(constants_playlog__WEBPACK_IMPORTED_MODULE_10__.b),json.entries=this.queue.map((function(entry){return entry.toJSON()})).value(),json.playlog.referrer_url=window.location!==window.parent.location?document.referrer:window.location.href,json},_proto.eventJSON=function(){var hash=this.pick("started_at","finished_at");return hash.score=this.score(),hash.scores=this.scores(),hash.path_indexes=":"+this.questions().map((function(q){return q.parent.get("index")})).join(":")+":",hash},_proto.onSaveSuccess=function(model,response,_options){if(response.error)return this.queue.reject((function(_entry){return!0})),void(response.message&&loglevel__WEBPACK_IMPORTED_MODULE_8___default.a.info("[Player] "+response.message));response.data&&(this.queue=this.queue.reject((function(entry){return response.data.indexOf(entry.get("index"))>-1}))),this.saving=!1,this.queue.size().value()>0?this.save():this.get("finished_at")&&this.trigger("server:finish")},_proto.onSaveError=function(_model,_response,_options){this.saving=!1},_proto.startWaiting=function(){this.waitingDate=new Date},_proto.stopWaiting=function(){var time=this.waitingDate>0?new Date-this.waitingDate:null;return this.waitingDate=null,time/1e3},Playlog}(Backbone.Model)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},YR2A:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Voices}));var lib_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("B9Pn"),constants_voice__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("lYBc"),_models_voice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("/PVc");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Voices=function(_Backbone$Collection){var subClass,superClass;function Voices(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Voices).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Voices.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_voice__WEBPACK_IMPORTED_MODULE_2__.a(attributes,options)},_proto.initialize=function(models,options){void 0===options&&(options={}),this.project=options.project},_proto.url=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_0__.a.url.project_voices},_proto.parse=function(response){return response.voices},_proto.deleteAll=function(){return this.trigger("deleting"),$.ajax({url:this.url(),method:"DELETE",error:this.deleteError,success:this.deleteSuccess,contentType:"application/json",dataType:"json"})},_proto.deleteSuccess=function(){this.project.nodes.each((function(node){return node.set("voice_id",null)})),this.project.edges.each((function(edge){return edge.set("voice_id",null)})),this.reset([]),this.trigger("deleting:success")},_proto.deleteError=function(){this.trigger("deleting:error")},_proto.getUploaderFileTypes=function(){return constants_voice__WEBPACK_IMPORTED_MODULE_1__.a},Voices}(Backbone.Collection)}).call(this,__webpack_require__("clIx"))},"Z/ZA":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("Isy3"),__webpack_require__("C9yj");var autolinker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ZSwd");__webpack_exports__.a=function(input,options){return void 0===options&&(options={}),autolinker__WEBPACK_IMPORTED_MODULE_2__.a.link(input,{truncate:options.truncate||{length:40,location:"smart"},replaceFn:function(match){var i,name,tag=match.buildTag(),keys=Object.keys(options);for(i=0;i<keys.length;i++)switch(name=keys[i]){case"class":tag.addClass(options[name]);break;case"truncate":break;default:tag.setAttr(name,options[name])}return tag}})}},Zbow:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return MultipleChartView}));__webpack_require__("8At4");var chartist__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("CPrg"),chartist__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(chartist__WEBPACK_IMPORTED_MODULE_1__),_modules_chartist_multiscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Nsum");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MultipleChartView=function(_Backbone$View){var subClass,superClass;function MultipleChartView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=MultipleChartView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=MultipleChartView.prototype;return _proto.initialize=function(options){void 0===options&&(options={}),this.className=options.className,this.dimensions=options.dimensions,this.listenTo(this,"series:enter",this.activateSlice),this.listenTo(this,"series:leave",this.deactivateSlices)},_proto.className=function(){return"multiple-chart"},_proto.events=function(){return{"mouseenter svg path.ct-slice-pie":"onHover","mouseleave svg path.ct-slice-pie":"onHover"}},_proto.render=function(options){return this.setElement(options.el),this.data=this.parseData(options.data),this.$el.addClass(this.className),chartist__WEBPACK_IMPORTED_MODULE_1___default.a.Pie(this.el,this.data,{plugins:[Object(_modules_chartist_multiscore__WEBPACK_IMPORTED_MODULE_2__.a)()],width:this.dimensions+"px",height:this.dimensions+"px",labelOffset:16}),$("<div/>").addClass("totals").html(this.data.total+"&nbsp;<div>points</div>").appendTo(this.el),this},_proto.parseData=function(data){var result={series:[],uids:[],colors:[],subtotal:0,total:0};return _(data).each((function(score){score.value>0&&(result.series.push(score.value),result.uids.push(score.uid),result.colors.push(score.color),result.subtotal+=score.value),result.total+=score.value})),result},_proto.onHover=function(event){if(!event.relatedTarget||"text"!==event.relatedTarget.tagName){var uid=$(event.target).data("uid");"mouseenter"===event.type?this.trigger("series:enter",uid):this.trigger("series:leave")}},_proto.activateSlice=function(uid){this.$el.find("svg path[data-uid="+uid+"]").parent().detach().insertBefore(this.$el.find("svg g:last-child")).addClass("active")},_proto.deactivateSlices=function(){this.$el.find("svg g.active").removeClass("active")},MultipleChartView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},c7xm:function(module,__webpack_exports__,__webpack_require__){"use strict";var preload_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("UGzN"),preload_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(preload_js__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.a=function(options){void 0===options&&(options={});var handler,queue=new preload_js__WEBPACK_IMPORTED_MODULE_0___default.a.LoadQueue(!1);!1===options.handler?handler=!1:options.handler?(handler=$(options.handler)).css({width:0,display:"block"}):(0===(handler=$("#preloader")).length&&(handler=$('<div id="preloader">').prependTo("body")),handler.css({width:0,top:0,left:0,display:"block"}),queue.on("complete",(function(){handler.velocity("stop").velocity({width:"100%"},{duration:300,complete:function(){$(this).velocity({top:-15})}})}))),handler&&queue.on("progress",(function(event){var width=parseInt(100*event.loaded,10)+"%";handler.velocity("stop").velocity({width:width},{duration:300,display:"block"})})),options.complete&&queue.on("complete",options.complete),options.fileload&&queue.on("fileload",options.fileload),queue.loadManifest(options.manifest,!1),queue.load()}},dCG4:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineEdgeView}));__webpack_require__("vpd+"),__webpack_require__("mejx"),__webpack_require__("qoQZ"),__webpack_require__("V4Jz"),__webpack_require__("hmwa"),__webpack_require__("fAGv"),__webpack_require__("ba7S");var lib_autolink__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Z/ZA"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("25es"),partials_view_manager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("xtKz"),lib_interpolation__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("g86V"),lib_format_cumulative_score__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("HL6H"),_stores_player__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2WfA"),_edge_show_view__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("mjzL"),_templates_edges_timeline__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("pBAS"),_templates_edges_timeline__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_templates_edges_timeline__WEBPACK_IMPORTED_MODULE_14__),_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("t9t2"),_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_15__),_templates_timeline_score__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1BER"),_templates_timeline_score__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_templates_timeline_score__WEBPACK_IMPORTED_MODULE_16__);function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TimelineEdgeView=function(_Backbone$View){var subClass,superClass;function TimelineEdgeView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=TimelineEdgeView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=TimelineEdgeView.prototype;return _proto.tagName=function(){return"li"},_proto.className=function(){return"edge"},_proto.events=function(){return{"click a.control-voice":"repeatVoice"}},_proto.initialize=function(options){this.$container=options.container,this.visible=!1},_proto.render=function(){var attributes=_.clone(this.model.parent.attributes);return attributes.voice_url=this.model.getVoiceURL(),this.$el.html(_templates_edges_timeline__WEBPACK_IMPORTED_MODULE_14___default()(attributes)),this.$text=this.$(".content"),this.$bubble=this.$("cite").hide(),this.renderContent(),this.renderVoice(),this.$el.appendTo(this.$container),this.top=partials_view_manager__WEBPACK_IMPORTED_MODULE_9__.a.get(this.model.parent,_edge_show_view__WEBPACK_IMPORTED_MODULE_13__.a,{ns:"player"}).$el.offset().top-this.$el.offset().top,_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")||(this.$el.css({opacity:0}),this.$bubble.css({top:this.top,left:28})),this.listenTo(this.model,"player:timeline:show",this.show),this.listenTo(this.model,"player:timeline:hide",this.hide),this.listenTo(this.model.parent,"change:content",this.renderContent),this.listenTo(this.model.parent,"change:voice_id",this.renderVoice),this.listenTo(this.model.parent,"player:voice:playing",this.voicePlaying),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.voicePaused),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project,"change:disable_timeline_choice",this.toggleVisiblity),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project,"change:timeline_score_preview",this.renderContent),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project,"change:timeline_score_preview",this.toggleVisiblity),this},_proto.renderContent=function(){var content;if(this.shouldPreviewScore()){var attrs=this.model.pick("score","total_score");attrs.multiple=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("multiple_scoring"),attrs.translations=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.translations(),attrs.multiple?attrs.scores=this.getScores():null!=attrs.score&&(attrs.cumulative=_.includes(["-","+"],attrs.score[0])),content=_templates_timeline_score__WEBPACK_IMPORTED_MODULE_16___default()(attrs)}else content=this.model.getContent(),content=Object(lib_interpolation__WEBPACK_IMPORTED_MODULE_10__.a)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),content=Object(lib_autolink__WEBPACK_IMPORTED_MODULE_7__.a)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"});this.$text.html(content)},_proto.shouldPreviewScore=function(){return _stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("timeline_score_preview")&&null!=this.model.get("score")},_proto.getScores=function(){var uid,score,_this=this,result=[];return _stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.scores.each((function(projectScore){uid=projectScore.get("uid"),null!=(score=_this.model.scoreFor(uid))&&result.push(_.extend(projectScore.toJSON(),{score:Object(lib_format_cumulative_score__WEBPACK_IMPORTED_MODULE_11__.a)(score),total_score:(_this.model.totalScoreFor(uid)||0).toString()}))})),result},_proto.renderVoice=function(){this.$voice||(this.$voice=$(_templates_voices_timeline__WEBPACK_IMPORTED_MODULE_15___default()())),this.model.getVoiceURL()?this.$voice.appendTo(this.$bubble):this.$voice.detach()},_proto.show=function(){if(partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.postMessage("player:choice",{project:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.eventJSON(),choice:this.model.eventJSON()}),partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:timeline:edge"),this.model.parent.toNode&&this.model.parent.toNode.getVideoURL()||partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:video:hide"),!this.visible){this.visible=!0,_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_timeline_choice")&&!this.shouldPreviewScore()||this.$bubble.css("display","inline-block");var css1={opacity:1},css2={top:0,left:0};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?(this.$el.css(css1),this.$bubble.css(css2),this.media()):(this.$el.velocity(css1),this.$bubble.velocity(css2,{complete:this.media.bind(this)}))}partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:timeline:top",this.position().top)},_proto.media=function(){this.model.getVoiceURL()?partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:voice:play",{model:this.model.parent}):(this.model.parent.toNode&&this.model.parent.toNode.getVoiceURL()||partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:voice:hide"),this.afterMedia())},_proto.voicePlaying=function(options){this.$("a.control-voice").removeClass("fa-play").addClass("fa-stop playing"),this.showVoice(),this.$progress=this.$("div.progress"),this.$progress.velocity("stop").velocity({width:["100%",options.current/options.duration*100+"%"]},{duration:1e3*(options.duration-options.current),easing:"linear"})},_proto.voicePaused=function(){null!=this.$progress&&(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.hideVoice():this.$progress.velocity("stop").velocity({width:"100%"},{complete:this.hideVoice.bind(this)})),this.$("a.control-voice").removeClass("fa-stop playing").addClass("fa-play")},_proto.afterMedia=function(){this.stopListening(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia);var node=this.model.parent.toNode;node&&_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.createTimelineNode(node)},_proto.repeatVoice=function(event){$(event.currentTarget).hasClass("playing")?partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:voice:stop"):this.model.getVoiceURL()&&partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:voice:play",{model:this.model.parent,force:!0})},_proto.showVoice=function(){this.$track||(this.$track=this.$("div.track")),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.$track.css({opacity:1,display:"block"}):this.$track.velocity({opacity:1},{display:"block"})},_proto.hideVoice=function(){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.$track.css({display:"none"}):this.$track.velocity({opacity:0},{display:"none"})},_proto.hide=function(){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.$el.remove():this.$bubble.velocity({top:this.top,left:28,opacity:0},{display:"none",complete:function(){$(this).parent().remove()}});var timelineEdge=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineEdge();timelineEdge?timelineEdge.trigger("player:timeline:show"):partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:timeline:top",0)},_proto.offset=function(){return this.$el.offset()},_proto.position=function(){return this.$el.position()},_proto.toggleVisiblity=function(){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_timeline_choice")&&!this.shouldPreviewScore()?(this.$bubble.css({opacity:0,display:"none"}),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineEdge()===this.model&&this.$el.css({height:37})):(this.$bubble.css({opacity:1,display:"inline-block"}),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineEdge()===this.model&&this.$el.css({height:this.$bubble.outerHeight()})),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineEdge()===this.model&&partials_dispatcher__WEBPACK_IMPORTED_MODULE_8__.a.Events.trigger("player:timeline:top",this.position().top,!1)},TimelineEdgeView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},"dT/v":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULTS}));var DEFAULTS={player_url:"",small_url:"",behavior:"selected"}},dZpG:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Node}));__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug"),__webpack_require__("W1wS"),__webpack_require__("E03B"),__webpack_require__("exX3"),__webpack_require__("N6Ff"),__webpack_require__("hmwa"),__webpack_require__("qoQZ"),__webpack_require__("V4Jz"),__webpack_require__("mbm0"),__webpack_require__("vpd+"),__webpack_require__("mejx"),__webpack_require__("ba7S"),__webpack_require__("olot");var loglevel__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("OPuQ"),loglevel__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_15__),lib_autolink__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("Z/ZA"),lib_interpolation__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("g86V"),constants_node__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("RIFn"),constants_edge__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("nj8K");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Node=function(_Backbone$Model){var subClass,superClass;function Node(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Node).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Node.prototype;return _proto.defaults=function(){return constants_node__WEBPACK_IMPORTED_MODULE_18__.b},_proto.initialize=function(attributes,options){void 0===options&&(options={}),this.project=options.project,attributes.index||loglevel__WEBPACK_IMPORTED_MODULE_15___default.a.error("Undefined attribute 'index' for Node"),this.on("change",this.afterChange,this),this.on("change:content check",this.check,this),this.on("change:video_id",this.updateEdgesDelay,this),this.listenTo(this.project,"init",this.updateEdgesPosition)},_proto.url=function(){return this.project.url()+"/nodes"+(this.isNew()?"":"/"+this.id)},_proto.afterChange=function(model,options){void 0===options&&(options={}),_.chain(this.changedAttributes()).keys().any((function(key){return _(constants_node__WEBPACK_IMPORTED_MODULE_18__.e).indexOf(key)>-1})).value()&&this.trigger("sync:queue",this,options)},_proto.edges=function(filter){void 0===filter&&(filter="out");var index=this.get("index"),edges=[];switch(filter){case"all":edges=this.project.edges.filter((function(edge){return edge.get("to_node_index")===index||edge.get("from_node_index")===index}));break;case"in":edges=this.project.edges.where({to_node_index:index});break;default:edges=this.project.edges.where({from_node_index:index}),edges=_(edges).sortBy((function(edge){return edge.get("position")}))}return _(edges)},_proto.createEdge=function(attributes){return void 0===attributes&&(attributes={}),_extends(attributes,{position:this.edges().size()+1}),this.project.edges.create(attributes,{fromNode:this})},_proto.redrawEdges=function(){this.edges("all").forEach((function(edge){return edge.trigger("redraw")}))},_proto.updateEdgesPosition=function(){var position=1;this.edges().each((function(edge){return edge.set("position",position++)}))},_proto.updateEdgesDelay=function(value){var video=this.project.videos.get(this.get("video_id")),delay=null!=value?value:parseInt(this.get("show_edges_delay"),10);null!=video&&((isNaN(delay)||delay<0||delay>video.get("duration"))&&(delay=Math.floor(video.get("duration")/2)),this.set("show_edges_delay",delay))},_proto.useless=function(){return!this.get("content")&&0===this.edges().size()},_proto.delete=function(){this.set("deleted",!0),this.edges("out").each((function(edge){return edge.delete()})),this.edges("in").each((function(edge){return edge.linkTo(null)})),this.project.nodes.remove(this),this.off()},_proto.isInitial=function(){return this.get("index")===this.project.get("initial_node_index")},_proto.check=function(){var errors=[];return this.get("content")||this.get("video_id")||errors.push("What does the character say?"),this.isInitial()||0!==this.edges("in").size()||errors.push("There are no links leading to this scene"),errors=_(errors).union(_.chain(this.edges()).map((function(edge){return edge.broken()})).flatten().compact().value()),this.trigger("broken",errors),!errors.length},_proto.serverAttributes=function(){return constants_node__WEBPACK_IMPORTED_MODULE_18__.e.concat(["id"])},_proto.toJSON=function(options){return void 0===options&&(options={}),options.server?this.pick(this.serverAttributes()):_.clone(this.attributes)},_proto.eventJSON=function(){return this.pick(["content","feedback","index","score","emotion"])},_proto.filename=function(){return this.getIndexName().toUpperCase()},_proto.getIndexName=function(){var index=this.get("index");return"s"+(index<10?"0"+index:index)},_proto.parse=function(response){return null!=response.node?response.node:response},_proto.getContent=function(){return this.escape("content")||"Scene #"+this.get("index")},_proto.getFeedback=function(){var content=this.escape("feedback");return content=Object(lib_interpolation__WEBPACK_IMPORTED_MODULE_17__.a)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),Object(lib_autolink__WEBPACK_IMPORTED_MODULE_16__.a)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"})},_proto.getEmotion=function(){return this.get("emotion")||constants_node__WEBPACK_IMPORTED_MODULE_18__.b.emotion},_proto.getCharacter=function(){return this.project.characters.get(this.get("character_id"))},_proto.getBackground=function(){return this.project.backgrounds.get(this.get("background_id"))},_proto.getVoiceURL=function(){var voice=this.project.voices.get(this.get("voice_id"));if(null!=voice)return voice.get("url")},_proto.getVideoURL=function(){var video=this.project.videos.get(this.get("video_id"));if(null!=video)return video.get("url")},_proto.getEdgesDelay=function(){var delay=parseInt(this.get("show_edges_delay"),10);if(!isNaN(delay)){var mins=Math.floor(delay/60),secs=Math.round(delay%60);return(mins=mins<10?"0"+mins:mins)+":"+(secs=secs<10?"0"+secs:secs)}return""},_proto.getDefaultEdge=function(){if(this.get("default_edge_index"))return this.project.edges.findWhere({index:this.get("default_edge_index")})},_proto.getMaxAnswersCount=function(){return this.maxAnswersCount||(this.maxAnswersCount=this.edges().max((function(edge){return edge.get("answers_count")})).get("answers_count")||0)},_proto.getTotalAnswersCount=function(){return this.totalAnswersCount||(this.totalAnswersCount=this.edges().reduce((function(memo,edge){return memo+(edge.get("answers_count")||0)}),0))},_proto.convertToFreetext=function(){if(this.edges().size()>1)return!1;var attr={kind:"freetext"};this.get("content")||(attr.content=constants_node__WEBPACK_IMPORTED_MODULE_18__.d),this.set(attr),0===this.edges().size()&&this.createEdge({content:constants_edge__WEBPACK_IMPORTED_MODULE_19__.e}),this.edges().each((function(edge){return edge.trigger("change:kind",edge)}))},_proto.convertToMultipleScores=function(uid,convert){void 0===uid&&(uid=null),void 0===convert&&(convert=!1);var score=this.get("score");null!=score&&(_(["+","-"]).includes(score[0])||convert?this.setScoreFor(uid,score):this.setScoreFor(uid,null))},_proto.convertToSingleScore=function(){null!=this.get("scores")&&this.set("scores",null)},_proto.scoreFor=function(uid,format){void 0===format&&(format=!1);var score=(this.get("scores")||{})[uid];return null!=score&&format&&(score=score>=0?"+"+score:score.toString()),score},_proto.setScoreFor=function(uid,score){var scores=this.get("scores")||{};null!=score?scores[uid]=parseInt(score,10):delete scores[uid],this.set("scores",_.isEmpty(scores)?null:scores),this.calculateScore()},_proto.deleteScoreFor=function(uid){var scores=this.get("scores");null!=scores&&(delete scores[uid],this.set("scores",scores),this.calculateScore())},_proto.calculateScore=function(){var uids=this.project.scores.uids(),scores=_.chain(this.get("scores")).pick(uids).values(),totalScore=null;scores.each((function(score){var value=parseInt(score,10);isNaN(value)||(totalScore=(totalScore||0)+value)})),null!=totalScore&&(totalScore=totalScore>=0?"+"+totalScore:totalScore.toString()),this.set("score",totalScore)},Node}(Backbone.Model)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},f3Nc:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Characters}));var lib_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("B9Pn"),_models_character__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("KgWp");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Characters=function(_Backbone$Collection){var subClass,superClass;function Characters(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Characters).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Characters.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_character__WEBPACK_IMPORTED_MODULE_1__.a(attributes,options)},_proto.url=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_0__.a.url.characters},_proto.parse=function(response){return response.characters},Characters}(Backbone.Collection)}).call(this,__webpack_require__("clIx"))},f9fs:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var helper,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<button class="edge submit theme-answer-bg-color"tabindex="0"notranslate><em class="edge-position theme-highlight-bg-color">'+container.escapeExpression("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"order")||(null!=depth0?lookupProperty(depth0,"order"):depth0))?helper:container.hooks.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"order",hash:{},data:data,loc:{start:{line:1,column:124},end:{line:1,column:133}}}):helper)+'</em><span class="content js-content"dir="auto"></span><span class="edge-tick theme-answer-border-color"></span></button>'},useData:!0})},fE8S:function(module,__webpack_exports__,__webpack_require__){"use strict";function iFrameShown(){return!window.getComputedStyle||!!window.getComputedStyle($("body")[0],null)}__webpack_require__.d(__webpack_exports__,"a",(function(){return iFrameShown}))},fykt:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Backgrounds}));var lib_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("B9Pn"),_models_background__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("tMrp");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Backgrounds=function(_Backbone$Collection){var subClass,superClass;function Backgrounds(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Backgrounds).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Backgrounds.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_background__WEBPACK_IMPORTED_MODULE_1__.a(attributes,options)},_proto.url=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_0__.a.url.backgrounds},_proto.parse=function(response){return response.backgrounds},Backgrounds}(Backbone.Collection)}).call(this,__webpack_require__("clIx"))},g86V:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("qoQZ"),__webpack_require__("BzOA"),__webpack_require__("E03B"),__webpack_require__("V4Jz");var lib_loader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("B9Pn"),constants_project__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("G4Dd"),INTERPOLATION_REGEX=/%(\w+)%/g;__webpack_exports__.a=function(original){var text=original;if(lib_loader__WEBPACK_IMPORTED_MODULE_4__.a.interpolation){var niddle,replacement,matches=text.match(INTERPOLATION_REGEX);if(matches)matches.forEach((function(match){niddle=match.replace(/^%(.*)%$/,"$1"),(replacement=lib_loader__WEBPACK_IMPORTED_MODULE_4__.a.interpolation[niddle]||constants_project__WEBPACK_IMPORTED_MODULE_5__.a.translations["interpolation_"+niddle])&&(text=text.replace(match,replacement))}))}return text}},gbrX:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Video}));var constants_video__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("FEYq");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Video=function(_Backbone$Model){var subClass,superClass;function Video(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Video).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Video.prototype;return _proto.defaults=function(){return constants_video__WEBPACK_IMPORTED_MODULE_0__.b},_proto.getDuration=function(){var duration=this.get("duration")||0,mins=Math.floor(duration/60),secs=Math.round(duration%60);return(mins=mins<10?"0"+mins:mins)+":"+(secs=secs<10?"0"+secs:secs)},_proto.parse=function(response){return null!=response.video?response.video:response},Video}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},hF4G:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return MultipleDetailsView}));__webpack_require__("hmwa"),__webpack_require__("fAGv"),__webpack_require__("ba7S"),__webpack_require__("8At4");var partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("25es"),lib_format_cumulative_score__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("HL6H"),helpers_font_auto_size__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3TV9"),shared_views_multiple_chart_view__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Zbow"),_stores_player__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2WfA"),_templates_multiple_details__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("FR4m"),_templates_multiple_details__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_templates_multiple_details__WEBPACK_IMPORTED_MODULE_9__);function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MultipleDetailsView=function(_Backbone$View){var subClass,superClass;function MultipleDetailsView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=MultipleDetailsView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=MultipleDetailsView.prototype;return _proto.className=function(){return"player-multiple-details"},_proto.events=function(){return{"click .js-close":"hide","mouseenter .score-label":"onLabelEnter","mouseleave .score-label":"onLabelLeave"}},_proto.initialize=function(options){this.container=options.container},_proto.templateAttribute=function(){return{translations:this.getTranslations(),scores:this.getScores(),node:{feedback:this.node.getFeedback()}}},_proto.render=function(){return this.$el.appendTo(this.container),this.chartView=new shared_views_multiple_chart_view__WEBPACK_IMPORTED_MODULE_7__.a({className:"bigger",dimensions:300}),this.listenTo(this.chartView,"series:enter",this.onSeriesEnter),this.listenTo(this.chartView,"series:leave",this.onSeriesLeave),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events,"player:reset player:reverse",this.reset),this},_proto.update=function(){this.node=_stores_player__WEBPACK_IMPORTED_MODULE_8__.a.playlog.lastNode(),this.$el.html(_templates_multiple_details__WEBPACK_IMPORTED_MODULE_9___default()(this.templateAttribute())),this.updateMultiscoreChart(),this.$feedback=this.$(".js-feedback"),this.setFontSize()},_proto.show=function(){if(!this.visible){this.visible=!0,this.$el.css({display:"block",visibility:"hidden"}),this.update();var options={visibility:"visible"};_stores_player__WEBPACK_IMPORTED_MODULE_8__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("fadeIn",options),partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:details:shown",!0)}},_proto.hide=function(){if(this.visible){this.visible=!1;var options={display:"none"};_stores_player__WEBPACK_IMPORTED_MODULE_8__.a.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("fadeOut",options),partials_dispatcher__WEBPACK_IMPORTED_MODULE_4__.a.Events.trigger("player:details:shown",!1)}},_proto.reset=function(){this.hide()},_proto.onLabelEnter=function(event){var $target=$(event.target);this.chartView.trigger("series:enter",$target.data("uid"))},_proto.onLabelLeave=function(){this.chartView.trigger("series:leave")},_proto.getTranslations=function(){return this.translations||(this.translations=_stores_player__WEBPACK_IMPORTED_MODULE_8__.a.project.translations())},_proto.setFontSize=function(){var fontSize=48,width=this.$feedback.width();fontSize=Object(helpers_font_auto_size__WEBPACK_IMPORTED_MODULE_6__.a)(this.node.getFeedback(),{minSize:14,maxSize:50,size:fontSize,width:width,height:150,css:{font:this.$feedback.css("font"),lineHeight:"normal"}}),this.$feedback.css({fontSize:fontSize})},_proto.getScores=function(){var uid,result=[],node=_stores_player__WEBPACK_IMPORTED_MODULE_8__.a.playlog.lastTimelineNode();return _stores_player__WEBPACK_IMPORTED_MODULE_8__.a.project.scores.each((function(score){uid=score.get("uid"),result.push(_.extend(score.toJSON(),{value:node.totalScoreFor(uid)||0,score:Object(lib_format_cumulative_score__WEBPACK_IMPORTED_MODULE_5__.a)(node.scoreFor(uid)),total_score:(node.totalScoreFor(uid)||0).toString()}))})),result},_proto.updateMultiscoreChart=function(){this.chartView.render({el:this.$(".scores-chart").get(0),data:this.getScores()})},_proto.onSeriesEnter=function(uid){this.$el.find(".score-label[data-uid="+uid+"]").addClass("active")},_proto.onSeriesLeave=function(){this.$el.find(".score-label").removeClass("active")},MultipleDetailsView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},heEq:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Edges}));__webpack_require__("olot");var _models_edge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("D5gs");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Edges=function(_Backbone$Collection){function Edges(){return _Backbone$Collection.apply(this,arguments)||this}_inheritsLoose(Edges,_Backbone$Collection);var _proto=Edges.prototype;return _proto.initialize=function(models,options){void 0===options&&(options={}),this.project=options.project},_proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_edge__WEBPACK_IMPORTED_MODULE_1__.a(attributes,options)},_proto.parse=function(response){return response.edges},_proto.create=function(attributes,options){return void 0===options&&(options={}),null==attributes.index&&_extends(attributes,{index:this.project.nextEdgeIndex()}),_extends(options,{project:this.project}),this.add(attributes,options)},Edges}(Backbone.Collection);Backbone.Collection}).call(this,__webpack_require__("clIx"))},hiIU:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return Nodes}));__webpack_require__("vpd+"),__webpack_require__("mejx"),__webpack_require__("Ubn2"),__webpack_require__("fAGv"),__webpack_require__("Cwug"),__webpack_require__("olot");var _models_node__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("dZpG");function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Nodes=function(_Backbone$Collection){var subClass,superClass;function Nodes(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Nodes).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Nodes.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_node__WEBPACK_IMPORTED_MODULE_6__.a(attributes,options)},_proto.initialize=function(models,options){void 0===options&&(options={}),this.project=options.project},_proto.create=function(attributes,options){return void 0===options&&(options={}),attributes.index||_extends(attributes,{index:this.project.nextNodeIndex()}),_extends(options,{project:this.project}),this.add(attributes,options)},_proto.hasAbsoluteScore=function(){return this.any((function(node){var score=node.get("score");return null!=score&&!_.includes(["-","+"],score[0])}))},_proto.hasMultipleScores=function(){return this.any((function(node){return _(node.get("scores")).values().length>1}))},Nodes}(Backbone.Collection)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},lCPj:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return VoicePlayerView}));var partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("25es"),shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("t5dq"),_templates_voice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("AghN"),_templates_voice__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_templates_voice__WEBPACK_IMPORTED_MODULE_2__);function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var VoicePlayerView=function(_Backbone$View){var subClass,superClass;function VoicePlayerView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=VoicePlayerView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=VoicePlayerView.prototype;return _proto.className=function(){return"player-voice"},_proto.events=function(){return{"click a.control-volume":"toggleAutoplay"}},_proto.initialize=function(options){this.container=options.container,this.autoplay=options.autoplay||!1,this.initialized=!1,this.queue=null},_proto.render=function(){return this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:voice:play",this.play),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:voice:stop player:media:stop",this.stop),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:voice:hide player:media:hide",this.hide),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:reset",this.reset),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:media:autoplay",this.setAutoplay),this},_proto.renderMediaElement=function(){var _this=this;if(null==this.mediaElement){this.$el.html(_templates_voice__WEBPACK_IMPORTED_MODULE_2___default()()).appendTo(this.container),this.renderMute(),this.$audio=this.$("audio"),this.$media=this.$("div.media-control");var options=_.extend(shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__.a,{type:"audio/mpeg",success:function(mediaElement){_this.initialized=!0,mediaElement.addEventListener("timeupdate",_this.playing.bind(_this)),mediaElement.addEventListener("ended",_this.ended.bind(_this)),mediaElement.addEventListener("pause",_this.paused.bind(_this)),_this.queue&&(_this.play(_this.queue),_this.queue=null)},error:function(){}});this.mediaElement=new shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__.b(this.$audio[0],options)}},_proto.renderMute=function(){return this.$("a.control-volume").toggleClass("disabled fa-volume-off",!this.autoplay).toggleClass("fa-volume-up",this.autoplay)},_proto.reset=function(){return null!=this.mediaElement&&this.mediaElement.pause(),this.hide()},_proto.play=function(options){this.renderMediaElement(),this.ended(),this.initialized?this.autoplay||options.force?null!=this.mediaElement&&(this.playing=!1,this.mediaElement.setSrc(options.model.getVoiceURL()),this.model=options.model,this.mediaElement.load(),this.mediaElement.play()):(this.model=options.model,this.paused()):(this.model=null,this.queue=options)},_proto.stop=function(){null!=this.mediaElement&&this.mediaElement.pause()},_proto.playing=function(){null!=this.model&&!this.playing&&this.mediaElement.media.duration&&(this.model.trigger("player:voice:playing",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}),this.playing=!0)},_proto.ended=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:voice:ended"),this.model=null)},_proto.paused=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:voice:paused"),this.model=null)},_proto.toggleAutoplay=function(){this.autoplay=!this.autoplay,this.renderMute(),this.autoplay||this.stop()},_proto.setAutoplay=function(state){this.autoplay=state,this.renderMute()},_proto.hide=function(){this.stop()},VoicePlayerView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},lYBc:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULTS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return BLANK_DATA})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ACCEPT_CONTENT_TYPE_REGEX}));var DEFAULTS={url:""},BLANK_DATA="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA/+PgwAAAAAAAAAAAAEluZm8AAAAPAAAABAAACpsAiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsdjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2Nj/////////////////////////////////AAAAAExhdmYAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAqbBxKpmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+OAxAAAAANIAAAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+OCxAAAAANIAAAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jgsQAAAADSAAAAABMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/44LEAAAAA0gAAAAATEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",ACCEPT_CONTENT_TYPE_REGEX=/(\.|\/)(mp3)$/i},mCzO:function(module,__webpack_exports__,__webpack_require__){"use strict";var constants_yml__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Nogj"),constants_yml__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(constants_yml__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.a=constants_yml__WEBPACK_IMPORTED_MODULE_0___default.a},"mRd/":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return VideoPlayerView}));var partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("25es"),shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("t5dq"),_templates_video__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("vYIr"),_templates_video__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_templates_video__WEBPACK_IMPORTED_MODULE_2__),_stores_player__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2WfA");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var VideoPlayerView=function(_Backbone$View){var subClass,superClass;function VideoPlayerView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=VideoPlayerView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=VideoPlayerView.prototype;return _proto.className=function(){return"player-video"},_proto.initialize=function(options){this.container=options.container,this.autoplay=options.autoplay||!1,this.initialized=!1,this.queue=null},_proto.render=function(){return this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:video:play",this.play),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:video:stop player:media:stop",this.stop),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:video:hide player:media:hide",this.hide),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:reset",this.reset),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events,"player:media:autoplay",this.setAutoplay),this},_proto.renderMediaElement=function(){var _this=this;if(null==this.mediaElement){this.$el.html(_templates_video__WEBPACK_IMPORTED_MODULE_2___default()()).appendTo(this.container),this.$video=this.$("video"),this.$media=this.$("div.media-control");var options=_.extend(shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__.a,{type:"video/mp4",features:["playpause","progress","current","volume"],videoWidth:"100%",videoHeight:"100%",hideVideoControlsOnLoad:!0,success:function(mediaElement){_this.initialized=!0,mediaElement.addEventListener("timeupdate",_this.timeupdate.bind(_this)),mediaElement.addEventListener("ended",_this.ended.bind(_this)),mediaElement.addEventListener("pause",_this.paused.bind(_this)),mediaElement.addEventListener("contextmenu",(function(e){e.preventDefault(),e.stopPropagation()})),_this.queue&&(_this.play(_this.queue),_this.queue=null)},error:function(){}});this.mediaElement=new shims_mediaelementplayer__WEBPACK_IMPORTED_MODULE_1__.b(this.$video[0],options),$(this.mediaElement.container).on("controlsshown",this.controlsshown).on("controlshidden",this.controlshidden)}},_proto.reset=function(){this.hide()},_proto.play=function(options){this.renderMediaElement(),this.model=options.model,this.initialized?null!=this.mediaElement&&(this.playing=!1,this.mediaElement.setSrc(this.model.getVideoURL()),this.mediaElement.load(),this.show(),this.autoplay&&this.mediaElement.play()):(this.model=null,this.queue=options)},_proto.stop=function(){null!=this.mediaElement&&this.mediaElement.pause()},_proto.timeupdate=function(){null!=this.model&&(!this.playing&&this.mediaElement.media.duration&&(this.model.trigger("player:voice:playing",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}),this.playing=!0),this.model.trigger("player:video:progress",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}))},_proto.ended=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:video:ended"))},_proto.paused=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:video:paused"))},_proto.setAutoplay=function(state){this.autoplay=state},_proto.hide=function(){this.visible&&(this.stop(),_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation")?this.$el.css({opacity:0,top:"100%"}):this.$el.velocity("stop").velocity({opacity:0},{complete:function(){return $(this).css({top:"100%"})}}),this.visible=!1)},_proto.show=function(){if(!this.visible){if(_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.project.get("disable_player_animation"))this.$el.css({top:0,opacity:1});else{var duration=1===_stores_player__WEBPACK_IMPORTED_MODULE_3__.a.playlog.questions().size()?0:$.Velocity.defaults.duration;this.$el.velocity("stop").css({top:0}).velocity({opacity:1},{duration:duration})}this.visible=!0}},_proto.controlsshown=function(){partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events.trigger("player:video:controls",!0)},_proto.controlshidden=function(){partials_dispatcher__WEBPACK_IMPORTED_MODULE_0__.a.Events.trigger("player:video:controls",!1)},VideoPlayerView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},mdnq:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<div class="track"><div class="thumb"></div></div><div class="emotion happy"><span class="bt-emotion happy"></span><em>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"happy"):stack1,depth0))+'</em></div><div class="emotion normal"><span class="bt-emotion normal"></span><em>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"normal"):stack1,depth0))+'</em></div><div class="emotion puzzled"><span class="bt-emotion puzzled"></span><em>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"puzzled"):stack1,depth0))+'</em></div><div class="emotion unhappy"><span class="bt-emotion unhappy"></span><em>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"unhappy"):stack1,depth0))+'</em></div><div class="emotion angry"><span class="bt-emotion angry"></span><em>'+alias2(alias1(null!=(stack1=null!=depth0?lookupProperty(depth0,"translations"):depth0)?lookupProperty(stack1,"angry"):stack1,depth0))+"</em></div>"},useData:!0})},mjzL:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return EdgeShowView}));__webpack_require__("qoQZ"),__webpack_require__("V4Jz");var constants_edge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("nj8K"),lib_interpolation__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("g86V"),_stores_player__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2WfA"),_templates_edges_regular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f9fs"),_templates_edges_regular__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_templates_edges_regular__WEBPACK_IMPORTED_MODULE_5__),_templates_edges_freetext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("vOBG"),_templates_edges_freetext__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_templates_edges_freetext__WEBPACK_IMPORTED_MODULE_6__);function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var templates={regular:_templates_edges_regular__WEBPACK_IMPORTED_MODULE_5___default.a,freetext:_templates_edges_freetext__WEBPACK_IMPORTED_MODULE_6___default.a},EdgeShowView=function(_Backbone$View){var subClass,superClass;function EdgeShowView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=EdgeShowView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=EdgeShowView.prototype;return _proto.tagName=function(){return"li"},_proto.events=function(){return{"click .submit":"navigateNext","keyup textarea":"counter"}},_proto.initialize=function(){this.submittable=!1,this.listenTo(this.model,"change:content",this.renderContent),this.listenTo(this.model,"change:order",this.renderNumber),this.listenTo(this.model,"player:edge:submittable",this.setSubmittable),this.listenTo(this.model,"player:edge:submit",this.navigateNext),_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.persistable||this.listenTo(this.model,"change:color",this.renderColor)},_proto.template=function(){return templates[this.model.fromNode.get("kind")]},_proto.render=function(){if(!this.rendered){this.rendered=!0;var attributes=_.clone(this.model.attributes);this.$el.html(this.template()(attributes)),this.renderContent(),this.renderColor(),this.renderLimit()}return this},_proto.renderContent=function(){var content=this.model.getContent();content=Object(lib_interpolation__WEBPACK_IMPORTED_MODULE_3__.a)(content),this.$(".js-content").html(content.replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"))},_proto.renderNumber=function(){this.$(".edge-position").text(this.model.get("order"))},_proto.renderColor=function(){_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.persistable||(this.$color||(this.$color=$('<span class="color-tick"></span>')),null!=this.model.toNode&&this.model.toNode.get("color")?(this.$color.css("background-color",this.model.toNode.get("color")),this.$el.append(this.$color)):this.$color.detach())},_proto.renderLimit=function(){this.$(".counter").html('<span class="length">0</span> / '+constants_edge__WEBPACK_IMPORTED_MODULE_2__.d)},_proto.position=function(){var parent=this.$el.parent().position(),current=this.$el.position();return{top:parent.top+current.top,left:parent.left+current.left}},_proto.offset=function(){return this.$el.offset()},_proto.setSubmittable=function(value){this.submittable=!!value},_proto.navigateNext=function(event){if(null!=event&&event.preventDefault(),this.submittable){this.submittable=!1;var attrs={};if("freetext"===this.model.fromNode.get("kind")&&(this.$textarea||(this.$textarea=this.$("textarea")),attrs.custom_content=this.$textarea.val(),!attrs.custom_content.length))return this.$textarea.addClass("has-error"),this.submittable=!0,!1;this.model.fromNode.trigger("player:edges:hide"),_stores_player__WEBPACK_IMPORTED_MODULE_4__.a.playlog.createTimelineEdge(this.model,attrs)}else this.$("a.submit").blur()},_proto.counter=function(){this.$textarea||(this.$textarea=this.$("textarea"));var length=this.$textarea.val().length;this.$textarea.toggleClass("has-error",0===length),this.$(".length").text(length).toggleClass("text-red",length>constants_edge__WEBPACK_IMPORTED_MODULE_2__.d)},EdgeShowView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},nj8K:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return SENSITIVE_ATTRIBUTES})),__webpack_require__.d(__webpack_exports__,"e",(function(){return FREETEXT_DEFAULT_CONTENT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return FREETEXT_CONTENT_LIMIT})),__webpack_require__.d(__webpack_exports__,"a",(function(){return COLOR_BLUE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return COLOR_GREEN})),__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULTS}));var SENSITIVE_ATTRIBUTES=["index","deleted","content","from_node_index","to_node_index","position","voice_id"],FREETEXT_DEFAULT_CONTENT="Submit and continue",FREETEXT_CONTENT_LIMIT=500,COLOR_BLUE="#008aff",COLOR_GREEN="#8dc63f",DEFAULTS={index:0,position:1,content:"",deleted:!1}},"oj+x":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return PERSISTED_ATTRIBUTES})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULTS}));var _rails__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("mCzO"),PERSISTED_ATTRIBUTES=["version","player_name","started_at","finished_at","progress_pct","referrer_url"],DEFAULTS={version:_rails__WEBPACK_IMPORTED_MODULE_0__.a.PLAYLOG_VERSION,score:null,scores:null,started_at:null,finished_at:null,progress_pct:null}},pBAS:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var helper,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<cite class="theme-answer-bg-color"notranslate><em class="edge-position theme-highlight-bg-color">'+container.escapeExpression("function"==typeof(helper=null!=(helper=lookupProperty(helpers,"order")||(null!=depth0?lookupProperty(depth0,"order"):depth0))?helper:container.hooks.helperMissing)?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"order",hash:{},data:data,loc:{start:{line:1,column:98},end:{line:1,column:107}}}):helper)+'</em><span class="content theme-highlight-anchor-color"dir="auto"></span><span class="edge-tick theme-answer-border-color"></span></cite>'},useData:!0})},qTC1:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone,_){__webpack_require__.d(__webpack_exports__,"a",(function(){return PlayerView}));__webpack_require__("WIcX"),__webpack_require__("9wHH"),__webpack_require__("8At4"),__webpack_require__("v51e"),__webpack_require__("li+S"),__webpack_require__("qoQZ"),__webpack_require__("BzOA");var lib_project_assets_extractor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Rzmm"),lib_loader__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("B9Pn"),lib_preloader__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("c7xm"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("25es"),partials_view_manager__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("xtKz"),_stores_player__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2WfA"),_models_project__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("HhB0"),_models_playlog__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("Y9lS"),_timeline_view__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("Mln3"),_emotion_meter_view__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("PMlq"),_voice_player_view__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("lCPj"),_video_player_view__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("mRd/"),_node_edges_view__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("TzHg"),_templates_player__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("vAIn"),_templates_player__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_templates_player__WEBPACK_IMPORTED_MODULE_20__),_multiple_details_view__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("hF4G");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var PlayerView=function(_Backbone$View){var subClass,superClass;function PlayerView(){return _Backbone$View.apply(this,arguments)||this}superClass=_Backbone$View,(subClass=PlayerView).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=PlayerView.prototype;return _proto.events=function(){return{"click a.replay":"reset","mouseenter div.player-logo":"hoverLogo","mouseleave div.player-logo":"blurLogo",scroll:"preventAutoScroll"}},_proto.initialize=function(options){void 0===options&&(options={}),this.$window=$(window),this.$preloader=$(".js-player-preloader"),this.$progress=$(".js-progress-preloader"),this.options=options,_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.persistable=!!options.playlog,options.project&&(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project=options.project instanceof _models_project__WEBPACK_IMPORTED_MODULE_13__.a?options.project:new _models_project__WEBPACK_IMPORTED_MODULE_13__.a(options.project))},_proto.load=function(){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project?this.options.editor?this.setup():this.preloadAssets():$.ajax({method:"get",url:lib_loader__WEBPACK_IMPORTED_MODULE_8__.a.url.project,dataType:"json",success:this.onLoadSuccess.bind(this),error:this.onLoadError.bind(this)})},_proto.onLoadSuccess=function(response){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project=new _models_project__WEBPACK_IMPORTED_MODULE_13__.a(response.project),this.preloadAssets()},_proto.onLoadError=function(){this.$preloader.remove(),$(".js-player-reload").show()},_proto.preloadAssets=function(){var _this=this,assets=Object(lib_project_assets_extractor__WEBPACK_IMPORTED_MODULE_7__.a)(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project);Object(lib_preloader__WEBPACK_IMPORTED_MODULE_9__.a)({manifest:Array.from(assets.initial),handler:this.$progress.find("div"),complete:function(){_this.$progress.velocity({opacity:[0,1]},{complete:_this.setup.bind(_this)}),Object(lib_preloader__WEBPACK_IMPORTED_MODULE_9__.a)({manifest:Array.from(assets.rest),handler:!1})},error:this.onLoadError.bind(this)})},_proto.setup=function(){this.setElement(this.options.embed_el||document.getElementById(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("embed_id"))),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog=new _models_playlog__WEBPACK_IMPORTED_MODULE_14__.a(this.options.playlog||{},{persistable:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.persistable,project:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project}),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.timeline=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.timeline,this.autostart=null==this.options.autostart||this.options.autostart,this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog,"server:finish",this.onPlaylogFinish),partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.postMessage("player:init",{project:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.eventJSON()}),this.render()},_proto.render=function(){var attributes=_.clone(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.attributes);return this.$el.addClass(this.className),this.$el.html(_templates_player__WEBPACK_IMPORTED_MODULE_20___default()(attributes)),this.$logo=this.$("div.player-logo"),this.$logo.find("a").attr({href:lib_loader__WEBPACK_IMPORTED_MODULE_8__.a.url.root}),this.$backgrounds=this.$("div.player-backgrounds"),this.$characters=this.$("div.player-characters"),this.$edges=this.$("div.player-edges"),this.$pixel=this.$("div.player-scale-pixel"),this.toggleCopyrightLogo(),this.toggleChoiceNumbers(),new _timeline_view__WEBPACK_IMPORTED_MODULE_15__.a({el:this.$("ul.player-timeline"),collection:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.timeline,pixel:this.$pixel}).render(),new _emotion_meter_view__WEBPACK_IMPORTED_MODULE_16__.a({container:this.el}).render(),new _voice_player_view__WEBPACK_IMPORTED_MODULE_17__.a({container:this.el,autoplay:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.persistable}).render(),new _video_player_view__WEBPACK_IMPORTED_MODULE_18__.a({container:this.el,autoplay:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.persistable}).render(),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project,"change:disable_copyright_logo",this.toggleCopyrightLogo),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project,"change:disable_choice_numbers",this.toggleChoiceNumbers),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.nodes,"remove",this.removeNode),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.nodes,"change:character_id change:character_behavior change:emotion",this.renderCharacter),this.listenTo(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.nodes,"change:background_id change:background_behavior",this.renderBackground),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:reset",this.reset),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:start",this.start),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:goto",this.goto),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:reverse",this.reverse),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:timeline:node",this.renderCurrentNode),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:video:controls",this.videoControlsBehavior),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:details:show",this.renderMultipleDetails),this.listenTo(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events,"player:details:shown",this.onDetails),this.enableHotkeys(),this.autostart&&this.reset().start(),this},_proto.renderCurrentNode=function(){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastNode(),this.renderBackground(),this.renderCharacter(),this.renderNodeClass()},_proto.renderBackground=function(){var _this2=this;if(!_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node)return!1;switch(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.get("background_behavior")){case"default":_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.background=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.getBackground();break;case"selected":_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.background=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getBackground();break;default:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.isInitial()&&(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.background=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getBackground())}var backgroundURL=!!_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.background&&_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.background.imageURL({style:"fhd"});if(backgroundURL!==this.backgroundURL){this.backgroundURL=backgroundURL;var $children=this.$backgrounds.children().not(".js-hidden");if(backgroundURL){var $div=$('<div class="background">').css({opacity:0}).appendTo(this.$backgrounds),image=new Image;image.onload=function(){_this2.removeElements($children);var css={"background-image":'url("'+image.src+'")'};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?$div.css(_.extend(css,{opacity:1})):($div.css(css),$div.velocity({opacity:1}))},image.src=backgroundURL}else this.removeElements($children)}},_proto.renderCharacter=function(){var _this3=this;if(!_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node)return!1;var emotion=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getEmotion();switch(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.get("character_behavior")){case"default":_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.character=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.getCharacter();break;case"selected":_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.character=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getCharacter();break;default:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.isInitial()&&(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.character=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getCharacter())}var characterURL=!!_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.character&&_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.character.imageURL({emotion:emotion,style:"player"});if(void 0===this.characterURL||characterURL!==this.characterURL){this.characterURL=characterURL;var $children=this.$characters.children().not(".js-hidden");if(characterURL){this.$el.removeClass("no-character");var $div=$('<div class="character big">').css({opacity:0}).appendTo(this.$characters),image=new Image;image.onload=function(){_this3.removeElements($children);var css={"background-image":'url("'+image.src+'")'};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?$div.css(_.extend(css,{opacity:1})):$div.css(css).velocity({opacity:1}),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.trigger("player:character:changed")},image.src=characterURL}else this.$el.addClass("no-character"),this.removeElements($children),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.trigger("player:character:changed")}},_proto.renderNodeClass=function(){this.$el.removeClass((function(index,className){return(className.match(/s\d+/gi)||[]).join(" ")})).addClass(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.node.getIndexName())},_proto.removeElements=function($elements){_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?$elements.remove():$elements.addClass("js-hidden").velocity({opacity:0},{complete:function(){$(this).remove()}})},_proto.toggleCopyrightLogo=function(){var options={},css={top:0};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")&&(options.duration=0),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_copyright_logo")?(css.top=-24,options.display="none"):options.display="block",this.$logo.velocity(css,options)},_proto.toggleChoiceNumbers=function(){this.$el.toggleClass("no-numbers",!!_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_choice_numbers"))},_proto.reset=function(){return _stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.reset(),this},_proto.start=function(node){return 0===_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.timeline.length&&(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.postMessage("player:start",{project:_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.eventJSON()}),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.start(node)),this},_proto.removeNode=function(node){partials_view_manager__WEBPACK_IMPORTED_MODULE_11__.a.remove(node,_node_edges_view__WEBPACK_IMPORTED_MODULE_19__.a,{ns:"player"}),0===_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.nodes.length&&this.reset()},_proto.reverse=function(){if(_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.questions().size()>1){partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events.trigger("player:media:stop");var timelineNode=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineNode(),timelineEdge=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineEdge();_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.timeline.remove(timelineNode),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.timeline.remove(timelineEdge),(timelineNode=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.lastTimelineNode()).trigger("player:timeline:show")}else partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events.trigger("player:reset player:start")},_proto.goto=function(node){var lastQuestions=_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.questions().last(2),timelineNode=lastQuestions[0],prevQuestion=null;2===lastQuestions.length&&(timelineNode=lastQuestions[1],prevQuestion=lastQuestions[0]),timelineNode&&timelineNode.parent===node||(prevQuestion&&prevQuestion.parent===node?this.reverse():(partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events.trigger("player:reset"),partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.Events.trigger("player:start",node)))},_proto.hotkey=function(event){switch(event.which){case"B".charCodeAt(0):_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.playlog.persistable||this.reverse()}},_proto.enableHotkeys=function(){this.disableHotkeys(),$(document).on("keyup",null,"B",this.hotkey.bind(this))},_proto.disableHotkeys=function(){$(document).off("keyup",this.hotkey)},_proto.hoverLogo=function(){var css={"margin-left":-this.$logo.width()};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.$logo.css(css):this.$logo.velocity("stop").velocity(css)},_proto.blurLogo=function(){var css={"margin-left":-24};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?this.$logo.css(css):this.$logo.velocity("stop").velocity(css)},_proto.videoControlsBehavior=function(state){var css={bottom:15};state&&(css.bottom=35),this.$feedbacks||(this.$feedbacks=this.$("div.player-feedbacks")),_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")?(this.$edges.css(css),this.$feedbacks.css(css)):(this.$edges.velocity("stop").velocity(css),this.$feedbacks.velocity("stop").velocity(css))},_proto.preventAutoScroll=function(event){event.preventDefault(),event.stopPropagation(),this.$el.scrollTop(0)},_proto.renderMultipleDetails=function(){this.multipleDetailsView||(this.multipleDetailsView=new _multiple_details_view__WEBPACK_IMPORTED_MODULE_21__.a({container:this.el}).render()),this.multipleDetailsView.show()},_proto.onDetails=function(state){var options={};_stores_player__WEBPACK_IMPORTED_MODULE_12__.a.project.get("disable_player_animation")&&(options.duration=0),this.$characters.velocity(state?"fadeOut":"fadeIn",options)},_proto.onPlaylogFinish=function(){partials_dispatcher__WEBPACK_IMPORTED_MODULE_10__.a.postMessage("player:finish:success")},PlayerView}(Backbone.View)}).call(this,__webpack_require__("clIx"),__webpack_require__("5VhH").default)},t5dq:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OPTIONS}));__webpack_require__("6rNj");var OPTIONS={classPrefix:"mejs-",fakeNodeName:"div",type:"audio/mpeg",enablePluginDebug:!1,enableKeyboard:!1,startVolume:1,autoRewind:!1,renderers:["html5","native_hls","native_dash"]};__webpack_exports__.b=window.MediaElementPlayer},t9t2:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){return'<div class="voice"><div class="track"><div class="progress theme-highlight-bg-color"></div></div><a class="media-icon control-voice fa fa-play theme-highlight-bg-color"></a></div>'},useData:!0})},tMrp:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Background}));var constants_background__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("dT/v");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Background=function(_Backbone$Model){var subClass,superClass;function Background(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=Background).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Background.prototype;return _proto.defaults=function(){return constants_background__WEBPACK_IMPORTED_MODULE_0__.a},_proto.imageURL=function(options){void 0===options&&(options={});var style=options.style||"small";return this.get(style+"_url")},_proto.parse=function(response){return null!=response.background?response.background:response},Background}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},uxOf:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return TimelineEdge}));__webpack_require__("hmwa");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var TimelineEdge=function(_Backbone$Model){var subClass,superClass;function TimelineEdge(){return _Backbone$Model.apply(this,arguments)||this}superClass=_Backbone$Model,(subClass=TimelineEdge).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=TimelineEdge.prototype;return _proto.initialize=function(attributes,options){void 0===options&&(options={}),this.parent=options.parent,this.offset=options.offset},_proto.getVoiceURL=function(){return this.parent.getVoiceURL()},_proto.toJSON=function(){return this.pick("index","duration","answered_at","edge_id","edge_content")},_proto.eventJSON=function(){var hash=this.parent.eventJSON();return hash.answered_at=this.get("answered_at"),hash.duration=this.get("duration"),this.get("custom_content")&&(hash.freetext=this.get("custom_content")),hash},_proto.getContent=function(){return"freetext"===this.parent.fromNode.get("kind")?this.escape("custom_content"):this.parent.getContent()},_proto.scoreFor=function(uid){return(this.get("scores")||{})[uid]},_proto.totalScoreFor=function(uid){return(this.get("total_scores")||{})[uid]},TimelineEdge}(Backbone.Model)}).call(this,__webpack_require__("clIx"))},vAIn:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){return'<div class="player-logo"aria-live="off"><a class="im"target="_blank"tabindex="-1"title="Go to BranchTrack homepage"></a><span>created in&nbsp;<a target="_blank"tabindex="-1">BranchTrack</a></span></div><div class="player-backgrounds"></div><div class="player-characters"></div><ul class="player-timeline"></ul><div class="player-edges"></div><div class="player-feedbacks"></div><div class="player-scale-pixel"></div>'},useData:!0})},vOBG:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){return'<span class="edge freetext theme-answer-bg-color"notranslate><div class="input"><textarea name="edge[freetext]"placeholder="..."rows="3"dir="auto"tabindex="0"></textarea><span class="counter"></span></div><a class="button smaller submit theme-highlight-bg-color"tabindex="0"><span class="fa fa-check-circle fa-sp"></span><span class="js-content"dir="auto"></span></a><span class="edge-tick theme-answer-border-color"></span></span>'},useData:!0})},vYIr:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){return'<div class="media-control"><video preload="auto"class="mejs-bt"width="100%"height="100%"style="width: 100%; height: 100%;"playsinline></video></div>'},useData:!0})},wT1P:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__("8DWv");module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){return'<a class="media-icon control-video fa fa-video-camera"></a>'},compiler:[8,">= 4.3.0"],main:function(container,depth0,helpers,partials,data){var stack1,lookupProperty=container.lookupProperty||function(parent,propertyName){if(Object.prototype.hasOwnProperty.call(parent,propertyName))return parent[propertyName]};return'<blockquote class="theme-speech-bg-color"notranslate>'+(null!=(stack1=lookupProperty(helpers,"if").call(null!=depth0?depth0:container.nullContext||{},null!=depth0?lookupProperty(depth0,"video_url"):depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data,loc:{start:{line:1,column:53},end:{line:1,column:136}}}))?stack1:"")+'<span class="content theme-highlight-anchor-color"dir="auto"></span><span class="node-tick theme-speech-border-color"></span></blockquote>'},useData:!0})},xtKz:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__("sccJ"),__webpack_require__("qoQZ"),__webpack_require__("BzOA"),__webpack_require__("fAGv"),__webpack_require__("ba7S");__webpack_exports__.a={views:{},get:function(model,klass,options){var view;void 0===options&&(options={});var ns=options.ns||"default";null==this.views[ns]&&(this.views[ns]={});var views=this.views[ns],className=this.className(klass);return model?(null==views[model.cid]&&(views[model.cid]={}),null==views[model.cid][className]&&(null==options.model&&(options.model=model),views[model.cid][className]=new klass(options)),view=views[model.cid][className]):(null==views[className]&&(views[className]=new klass(options)),view=views[className]),view},remove:function(model,klass,options){void 0===options&&(options={});var ns=options.ns||"default",views=this.views[ns],className=this.className(klass);if(model){if(!views[model.cid])return!1;null!=views[model.cid][className]&&(views[model.cid][className].remove(),delete views[model.cid][className])}else null!=views[className]&&(views[className].remove(),delete views[className])},className:function(klass){return klass.name||klass.toString().match(/^\s*function\s+([^(\s]*)\s*/)[1]}}},"y/SZ":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Backbone){__webpack_require__.d(__webpack_exports__,"a",(function(){return Videos}));var lib_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("B9Pn"),constants_video__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("FEYq"),_models_video__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("gbrX");function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Videos=function(_Backbone$Collection){var subClass,superClass;function Videos(){return _Backbone$Collection.apply(this,arguments)||this}superClass=_Backbone$Collection,(subClass=Videos).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass);var _proto=Videos.prototype;return _proto.model=function(attributes,options){return void 0===options&&(options={}),new _models_video__WEBPACK_IMPORTED_MODULE_2__.a(attributes,options)},_proto.initialize=function(models,options){void 0===options&&(options={}),this.project=options.project},_proto.url=function(){return lib_loader__WEBPACK_IMPORTED_MODULE_0__.a.url.project_videos},_proto.parse=function(response){return response.videos},_proto.deleteAll=function(){return this.trigger("deleting"),$.ajax({url:this.url(),method:"DELETE",error:this.deleteError.bind(this),success:this.deleteSuccess.bind(this),contentType:"application/json",dataType:"json"})},_proto.deleteSuccess=function(){this.project.nodes.each((function(node){return node.set("video_id",null)})),this.reset([]),this.trigger("deleting:success")},_proto.deleteError=function(){this.trigger("deleting:error")},_proto.getUploaderFileTypes=function(){return constants_video__WEBPACK_IMPORTED_MODULE_1__.a},Videos}(Backbone.Collection)}).call(this,__webpack_require__("clIx"))}}]);